	<class-descriptor class="net.sourceforge.fenixedu.domain.Seminaries.Seminary"
                  table="SEMINARY">

    <field-descriptor 
        name="idInternal"
        column="ID_INTERNAL"
        jdbc-type="INTEGER"
        primarykey="true"
        autoincrement="true"
    />

    <field-descriptor 
        name="description"
        column="DESCRIPTION"
        jdbc-type="VARCHAR"
	/>
         
    <field-descriptor 
         name="name"
         column="NAME"
    	  jdbc-type="VARCHAR"
    />

    <field-descriptor 
         name="allowedCandidaciesPerStudent"
         column="ALLOWED_CANDIDACIES_PER_STUDENT"
    	  jdbc-type="INTEGER"
    />
      <field-descriptor
      	name="ackOptLock"
      	column="ACK_OPT_LOCK"
      	jdbc-type="INTEGER"
      	locking="true"
      />

	 <field-descriptor
         name="enrollmentBeginDate"
         column="ENROLLMENT_BEGIN_DATE"
        jdbc-type="DATE"
         conversion="net.sourceforge.fenixedu.persistenceTier.Conversores.Calendar2DateFieldConversion"
      />

	  <field-descriptor
         name="enrollmentEndDate"
         column="ENROLLMENT_END_DATE"
        jdbc-type="DATE"
         conversion="net.sourceforge.fenixedu.persistenceTier.Conversores.Calendar2DateFieldConversion"
      />

	  <field-descriptor
         name="enrollmentBeginTime"
         column="ENROLLMENT_BEGIN_TIME"
        jdbc-type="TIME"
         conversion="net.sourceforge.fenixedu.persistenceTier.Conversores.Calendar2TimeFieldConversion"
      />

	  <field-descriptor
         name="enrollmentEndTime"
         column="ENROLLMENT_END_TIME"
        jdbc-type="TIME"
         conversion="net.sourceforge.fenixedu.persistenceTier.Conversores.Calendar2TimeFieldConversion"
      />

	  <field-descriptor
         name="hasTheme"
         column="HAS_THEME"
         jdbc-type="INTEGER"
         conversion="org.apache.ojb.broker.accesslayer.conversions.Boolean2IntFieldConversion"
      />

	  <field-descriptor
         name="hasCaseStudy"
         column="HAS_CASE_STUDY"
         jdbc-type="INTEGER"
         conversion="org.apache.ojb.broker.accesslayer.conversions.Boolean2IntFieldConversion"
      />

	<collection-descriptor
         name="equivalencies"
         element-class-ref="net.sourceforge.fenixedu.domain.Seminaries.CourseEquivalency"
         proxy="true"
         refresh="true"
      >
        <inverse-foreignkey field-ref="seminaryIdInternal"/>
     </collection-descriptor>
     
     <collection-descriptor
         name="candidacies"
         element-class-ref="net.sourceforge.fenixedu.domain.Seminaries.Candidacy"
         proxy="true"
         refresh="true"
      >
        <inverse-foreignkey field-ref="seminaryIdInternal"/>
     </collection-descriptor>
     
	  
</class-descriptor>

<class-descriptor class="net.sourceforge.fenixedu.domain.Seminaries.CourseEquivalency"
                  table="SEMINARY_CURRICULARCOURSE">

    <field-descriptor 
        name="idInternal"
        column="ID_INTERNAL"
        jdbc-type="INTEGER"
        primarykey="true"
        autoincrement="true"
    />

    <field-descriptor 
        name="seminaryIdInternal"
        column="SEMINARY_ID_INTERNAL"
        jdbc-type="INTEGER"
    />

    <field-descriptor 
        name="curricularCourseIdInternal"
        column="CURRICULAR_COURSE_ID_INTERNAL"
        jdbc-type="INTEGER"
    />

	 <field-descriptor 
        name="modalityIdInternal"
        column="MODALITY_ID_INTERNAL"
        jdbc-type="INTEGER"
    />
      <field-descriptor
      	name="ackOptLock"
      	column="ACK_OPT_LOCK"
      	jdbc-type="INTEGER"
      	locking="true"
      />

     <reference-descriptor
         name="seminary"
         class-ref="net.sourceforge.fenixedu.domain.Seminaries.Seminary"
         proxy="true"
         refresh="true"
      >
	      <foreignkey field-ref="seminaryIdInternal"/>
     </reference-descriptor>

	 <reference-descriptor
         name="curricularCourse"
         class-ref="net.sourceforge.fenixedu.domain.CurricularCourse"
         proxy="true"
         refresh="true"
      >
	    <foreignkey field-ref="curricularCourseIdInternal"/>
	 </reference-descriptor>

      <reference-descriptor
         name="modality"
         class-ref="net.sourceforge.fenixedu.domain.Seminaries.Modality"
         proxy="true"
         refresh="true"
      >
	      <foreignkey field-ref="modalityIdInternal"/>
     </reference-descriptor>
    
     <collection-descriptor
        name="themes"
        collection-class="org.apache.ojb.broker.util.collections.ManageableVector"
        element-class-ref="net.sourceforge.fenixedu.domain.Seminaries.Theme"
	    indirection-table="EQUIVALENCY_THEME"
        proxy="true"
        refresh="true"
        orderby="name"
        sort="ASC"
     >
         <fk-pointing-to-this-class column="EQUIVALENCY_ID"/>
         <fk-pointing-to-element-class column="THEME_ID"/>
      </collection-descriptor>
    	  
</class-descriptor>

<class-descriptor class="net.sourceforge.fenixedu.domain.Seminaries.Modality"
                  table="SEMINARY_MODALITY">

    <field-descriptor 
        name="idInternal"
        column="ID_INTERNAL"
        jdbc-type="INTEGER"
        primarykey="true"
        autoincrement="true"
    />

    <field-descriptor 
        name="description"
        column="DESCRIPTION"
        jdbc-type="VARCHAR"
	/>
         
    <field-descriptor 
         name="name"
         column="NAME"
    	  jdbc-type="VARCHAR"
    />
      <field-descriptor
      	name="ackOptLock"
      	column="ACK_OPT_LOCK"
      	jdbc-type="INTEGER"
      	locking="true"
      />
    	 
</class-descriptor>

<class-descriptor class="net.sourceforge.fenixedu.domain.Seminaries.Theme"
                  table="SEMINARY_THEME">

    <field-descriptor 
        name="idInternal"
        column="ID_INTERNAL"
        jdbc-type="INTEGER"
        primarykey="true"
        autoincrement="true"
    />

    <field-descriptor 
        name="description"
        column="DESCRIPTION"
        jdbc-type="VARCHAR"
	/>
         
    <field-descriptor 
         name="name"
         column="NAME"
    	  jdbc-type="VARCHAR"
    />

	 <field-descriptor 
         name="shortName"
         column="SHORT_NAME"
    	  jdbc-type="VARCHAR"
    />
      <field-descriptor
      	name="ackOptLock"
      	column="ACK_OPT_LOCK"
      	jdbc-type="INTEGER"
      	locking="true"
      />

	  <collection-descriptor
        name="caseStudies"
        element-class-ref="net.sourceforge.fenixedu.domain.Seminaries.CaseStudy"
		proxy="true"
        refresh="true"
        orderby="code"
        sort="ASC"
     >
        <inverse-foreignkey field-ref="seminaryThemeIdInternal"/>
     </collection-descriptor>
    	 
</class-descriptor>

<class-descriptor class="net.sourceforge.fenixedu.domain.Seminaries.CaseStudy"
                  table="SEMINARY_CASESTUDY">

    <field-descriptor 
        name="idInternal"
        column="ID_INTERNAL"
        jdbc-type="INTEGER"
        primarykey="true"
        autoincrement="true"
    />

    <field-descriptor 
        name="description"
        column="DESCRIPTION"
        jdbc-type="VARCHAR"
	/>
         
    <field-descriptor 
         name="name"
         column="NAME"
    	  jdbc-type="VARCHAR"
    />

	 <field-descriptor 
         name="code"
         column="CODE"
    	  jdbc-type="VARCHAR"
    />

	<field-descriptor 
         name="seminaryThemeIdInternal"
         column="seminary_theme_id_internal"
    	  jdbc-type="INTEGER"
    />
      <field-descriptor
      	name="ackOptLock"
      	column="ACK_OPT_LOCK"
      	jdbc-type="INTEGER"
      	locking="true"
      />

     <reference-descriptor
         name="seminaryTheme"
         class-ref="net.sourceforge.fenixedu.domain.Seminaries.Theme"
         proxy="true"
         refresh="true"
      >
	      <foreignkey field-ref="seminaryThemeIdInternal"/>
     </reference-descriptor>

	 	<!-- Choices made to this case study -->
      <collection-descriptor
         name="seminaryCandidacies"
         element-class-ref="net.sourceforge.fenixedu.domain.Seminaries.CaseStudyChoice"
		 orderby="order"
         sort="ASC"
         proxy="true"
         refresh="true"
      >
       <inverse-foreignkey field-ref="caseStudyIdInternal"/>
      </collection-descriptor> 
    	 
</class-descriptor>


<class-descriptor class="net.sourceforge.fenixedu.domain.Seminaries.Candidacy"
                  table="SEMINARY_CANDIDACY">

    <field-descriptor 
        name="idInternal"
        column="ID_INTERNAL"
        jdbc-type="INTEGER"
        primarykey="true"
        autoincrement="true"
    />

	<field-descriptor 
         name="themeIdInternal"
         column="seminary_theme_id_internal"
    	  jdbc-type="INTEGER"
    />

	<field-descriptor 
         name="modalityIdInternal"
         column="seminary_modality_id_internal"
    	  jdbc-type="INTEGER"
    />

	<field-descriptor 
         name="seminaryIdInternal"
         column="seminary_id_internal"
    	  jdbc-type="INTEGER"
    />

	<field-descriptor 
         name="studentIdInternal"
         column="student_id_internal"
    	  jdbc-type="INTEGER"
    />

	<field-descriptor 
         name="curricularCourseIdInternal"
         column="curricular_course_id_internal"
    	  jdbc-type="INTEGER"
    />

	<field-descriptor 
        name="motivation"
        column="MOTIVATION"
        jdbc-type="VARCHAR"
    />

	<field-descriptor 
        name="approved"
        column="APPROVED"
        jdbc-type="BIT"
    />
      <field-descriptor
      	name="ackOptLock"
      	column="ACK_OPT_LOCK"
      	jdbc-type="INTEGER"
      	locking="true"
      />
<reference-descriptor
         name="seminary"
         class-ref="net.sourceforge.fenixedu.domain.Seminaries.Seminary"
         proxy="true"
         refresh="true"
      >
	      <foreignkey field-ref="seminaryIdInternal"/>
     </reference-descriptor>
	 <reference-descriptor
         name="student"
         class-ref="net.sourceforge.fenixedu.domain.Student"
         proxy="true"
         refresh="true"
      >
	      <foreignkey field-ref="studentIdInternal"/>
     </reference-descriptor>
      <reference-descriptor
         name="modality"
         class-ref="net.sourceforge.fenixedu.domain.Seminaries.Modality"
         proxy="true"
         refresh="true"
      >
	      <foreignkey field-ref="modalityIdInternal"/>
     </reference-descriptor>
     <reference-descriptor
         name="curricularCourse"
         class-ref="net.sourceforge.fenixedu.domain.CurricularCourse"
         proxy="true"
         refresh="true"
      >
	      <foreignkey field-ref="curricularCourseIdInternal"/>
     </reference-descriptor>
     <reference-descriptor
         name="theme"
         class-ref="net.sourceforge.fenixedu.domain.Seminaries.Theme"
         proxy="true"
         refresh="true"
      >
	      <foreignkey field-ref="themeIdInternal"/>
     </reference-descriptor>
	<!-- Choosen case studies -->
      <collection-descriptor
         name="caseStudyChoices"
         element-class-ref="net.sourceforge.fenixedu.domain.Seminaries.CaseStudyChoice"
		 orderby="order"
         sort="ASC"
         proxy="true"
         refresh="true"
      >
       <inverse-foreignkey field-ref="candidacyIdInternal"/>
      </collection-descriptor>    	 
</class-descriptor>

<class-descriptor class="net.sourceforge.fenixedu.domain.Seminaries.CaseStudyChoice"
                  table="SEMINARYCANDIDACY_SEMINARYCASESTUDY">
  
   <field-descriptor 
         name="candidacyIdInternal"
         column="CANDIDACY_ID_INTERNAL"
         jdbc-type="INTEGER"
         primarykey="true"
      />

      <field-descriptor 
         name="caseStudyIdInternal"
         column="CASESTUDY_ID_INTERNAL"
         jdbc-type="INTEGER"
         primarykey="true"
      />
	   
	   <field-descriptor 
         name="order"
         column="PREFERENCE_ORDER"
         jdbc-type="INTEGER"
      />
      <field-descriptor
      	name="ackOptLock"
      	column="ACK_OPT_LOCK"
      	jdbc-type="INTEGER"
      	locking="true"
      />
       <reference-descriptor
         name="caseStudy"
         class-ref="net.sourceforge.fenixedu.domain.Seminaries.CaseStudy"
         proxy="true"
         refresh="true"
      >
	      <foreignkey field-ref="caseStudyIdInternal"/>
     </reference-descriptor>
     <reference-descriptor
         name="candidacy"
         class-ref="net.sourceforge.fenixedu.domain.Seminaries.Candidacy"
         proxy="true"
         refresh="true"
      >
	      <foreignkey field-ref="candidacyIdInternal"/>
     </reference-descriptor>
      
</class-descriptor>