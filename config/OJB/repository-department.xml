<!-- Please keep user defined mappings in this file only
     to avoid mixing user defined and system mappings. -->
<!-- Mapping of User defined classes starts here -->

<!-- *************************************************************************************************************** -->
<!-- Definitions for net.sourceforge.fenixedu.domain.Department -->
<!-- *************************************************************************************************************** -->
<class-descriptor class="net.sourceforge.fenixedu.domain.Department" table="DEPARTMENT">
	<field-descriptor
		name="idInternal"
		column="ID_INTERNAL"
		jdbc-type="INTEGER"
		primarykey="true"
		autoincrement="true"
	/>
	<field-descriptor
		name="name"
		column="NAME"
		jdbc-type="VARCHAR"
	/>
	<field-descriptor
		name="code"
		column="CODE"
		jdbc-type="VARCHAR"
	/>
	<field-descriptor
		name="keyUnit"
		column="KEY_UNIT"
		jdbc-type="INTEGER"
	 />
     <field-descriptor
      	name="ackOptLock"
      	column="ACK_OPT_LOCK"
      	jdbc-type="INTEGER"
      	locking="false"
     />

	<reference-descriptor auto-retrieve="false"
         name="unit"
         class-ref="net.sourceforge.fenixedu.domain.Unit">
         <foreignkey field-ref="keyUnit"/>
    </reference-descriptor>

    <collection-descriptor proxy="true" auto-retrieve="false" collection-class="org.apache.ojb.broker.util.collections.ManageableVector"
         name="associatedPersons"
         element-class-ref="net.sourceforge.fenixedu.domain.Person"         
         indirection-table = "crd_CREDITS_MANAGER_DEPARTMENT"                  
         auto-update="false"
         auto-delete="false"
		>
    	<fk-pointing-to-this-class column="KEY_DEPARTMENT"/>
    	<fk-pointing-to-element-class column="KEY_PERSON"/>
    </collection-descriptor>
	<collection-descriptor proxy="true" auto-retrieve="false" collection-class="org.apache.ojb.broker.util.collections.ManageableVector"
		name="competenceCourses"
		element-class-ref="net.sourceforge.fenixedu.domain.CompetenceCourse"
		indirection-table = "COMPETENCE_COURSE_DEPARTMENT"
         auto-update="false"
         auto-delete="false"
		>
		<fk-pointing-to-this-class column="KEY_DEPARTMENT"/>
    	<fk-pointing-to-element-class column="KEY_COMPETENCE_COURSE"/>
	</collection-descriptor>
	
</class-descriptor>   

<!-- *************************************************************************************************************** -->
<!-- Definitions for net.sourceforge.fenixedu.domain.CompetenceCourse -->
<!-- *************************************************************************************************************** -->
<class-descriptor class="net.sourceforge.fenixedu.domain.CompetenceCourse" table="COMPETENCE_COURSE">
	<field-descriptor
		name="idInternal"
		column="ID_INTERNAL"
		jdbc-type="INTEGER"
		primarykey="true"
		autoincrement="true"
	/>
	<field-descriptor
		name="name"
		column="NAME"
		jdbc-type="VARCHAR"
	/>
	<field-descriptor
		name="code"
		column="CODE"
		jdbc-type="VARCHAR"
	/>
    <field-descriptor
      	name="ackOptLock"
      	column="ACK_OPT_LOCK"
      	jdbc-type="INTEGER"
      	locking="false"
      />
	<collection-descriptor proxy="true" auto-retrieve="false" collection-class="org.apache.ojb.broker.util.collections.ManageableVector"
		name="departments"
		element-class-ref="net.sourceforge.fenixedu.domain.Department"
		indirection-table = "COMPETENCE_COURSE_DEPARTMENT"
         auto-update="false"
         auto-delete="false"
		>
		<fk-pointing-to-this-class column="KEY_COMPETENCE_COURSE"/>
    	<fk-pointing-to-element-class column="KEY_DEPARTMENT"/>
	</collection-descriptor>
	<collection-descriptor proxy="true" auto-retrieve="false" collection-class="org.apache.ojb.broker.util.collections.ManageableVector"
		name="associatedCurricularCourses"
		element-class-ref="net.sourceforge.fenixedu.domain.CurricularCourse"
         >
		<inverse-foreignkey field-ref="keyCompetenceCourse"/>
	</collection-descriptor>
</class-descriptor>
