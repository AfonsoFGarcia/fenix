<!-- Please keep user defined mappings in this file only
     to avoid mixing user defined and system mappings. -->   
<!-- Mapping of User defined classes starts here -->

<!-- ******************************************************************************************************************************* -->
<!-- Definitions for Dominio.Site -->
<!-- ******************************************************************************************************************************* -->
<class-descriptor class="Dominio.Site"
                  table="SITE">
    <field-descriptor id="1"
        name="INTERNAL_CODE"
        column="ID_INTERNAL"
        jdbc-type="INTEGER"
        primarykey="true"
        autoincrement="true"
    />
    <field-descriptor id="2"
        name="keyExecutionCourse"
        column="KEY_EXECUTION_COURSE"
        jdbc-type="INTEGER"
	/>
	 <field-descriptor id="3"
         name="keyInitialSection"
         column="KEY_INITIAL_SECTION"
         jdbc-type="INTEGER"/>
	
    <reference-descriptor
         name="executionCourse"
         class-ref="Dominio.DisciplinaExecucao"
         proxy="true"
    >
	<foreignkey field-id-ref="2"/>
	
	</reference-descriptor>
    <reference-descriptor
         name="initialSection"
         class-ref="Dominio.Section"
         proxy="true"
      >
    <foreignkey field-id-ref="3"/>
    </reference-descriptor>
    
    <collection-descriptor
         name="sections"
         element-class-ref="Dominio.Section"
         orderby="order"
         sort="ASC"
      >
         <inverse-foreignkey field-id-ref="4"/>
      </collection-descriptor>
      
      <collection-descriptor
         name="announcements"
         element-class-ref="Dominio.Announcement"
         orderby="date"
         sort="DESC"
      >
         <inverse-foreignkey field-id-ref="6"/>
      </collection-descriptor>  
</class-descriptor>

<!-- ******************************************************************************************************************************* -->
<!-- Definitions for Dominio.Announcement -->
<!-- ******************************************************************************************************************************* -->
<class-descriptor class="Dominio.Announcement"
                  table="ANNOUNCEMENT">
    <field-descriptor id="1"
        name="internalCode"
        column="ID_INTERNAL"
        jdbc-type="INTEGER"
        primarykey="true"
        autoincrement="true"
    />
    <field-descriptor id="2"
        name="title"
        column="TITLE"
        jdbc-type="VARCHAR"
	/>
    <field-descriptor id="3"
        name="date"
        column="CREATION_DATE"
        jdbc-type="DATE"
	/>
    <field-descriptor id="4"
        name="lastModifiedDate"
        column="LAST_MODIFICATION_DATE"
        jdbc-type="DATE"
	/>
    <field-descriptor id="5"
        name="information"
        column="INFORMATION"
        jdbc-type="VARCHAR"
	/>
    <field-descriptor id="6"
        name="keySite"
        column="KEY_SITE"
        jdbc-type="INTEGER"
	/>
	
    <reference-descriptor
         name="site"
         class-ref="Dominio.Site"
         proxy="true"
    >
	<foreignkey field-id-ref="6"/>
    </reference-descriptor>
    
</class-descriptor>

<!-- ******************************** -->
<!-- **********   SECTION  ********** -->
<!-- ******************************** -->
   
<!-- Definitions for Dominio.Section -->
   <class-descriptor
   	  class="Dominio.Section"
   	  table="SECTION"
   >
    <field-descriptor id="1"
        name="internalCode"
        column="ID_INTERNAL"
        jdbc-type="INTEGER"
        primarykey="true"
        autoincrement="true"
    />
      <field-descriptor id="2"
         name="name"
         column="NAME"
         jdbc-type="VARCHAR"
      />
      <field-descriptor id="3"
         name="order"
         column="ORDER"
         jdbc-type="INTEGER"
      />
      <field-descriptor id="4"
         name="keySite"
         column="KEY_SITE"
         jdbc-type="INTEGER"
      />
      <field-descriptor id="5"
         name="keySuperiorSection"
         column="KEY_SUPERIOR_SECTION"
         jdbc-type="INTEGER"
      />
      <field-descriptor id="6"
         name="lastModifiedDate"
         column="LAST_MODIFIED_DATE"
         jdbc-type="DATE"
      />
      <reference-descriptor
         name="site"
         class-ref="Dominio.Site"
         proxy="true"
      >
         <foreignkey field-id-ref="4"/>
      </reference-descriptor>
      <reference-descriptor
         name="superiorSection"
         class-ref="Dominio.Section"
         proxy="true"
      >
         <foreignkey field-id-ref="5"/>
      </reference-descriptor>
      <collection-descriptor
         name="inferiorSections"
         element-class-ref="Dominio.Section"
         orderby="order"
         sort="ASC"
      >
         <inverse-foreignkey field-id-ref="5"/>
      </collection-descriptor>
      <collection-descriptor
         name="items"
         element-class-ref="Dominio.Item"
         orderby="order"
         sort="ASC"
      >
         <inverse-foreignkey field-id-ref="6"/>
      </collection-descriptor>
</class-descriptor>

<!-- ****************************** -->
<!-- **********   ITEM   ********** -->
<!-- ****************************** --> 

<!-- Definitions for Dominio.Item -->
   <class-descriptor
   	  class="Dominio.Item"
   	  table="ITEM"
   >
      <field-descriptor id="1"
         name="internalCode"
         column="ID_INTERNAL"
         jdbc-type="INTEGER"
         primarykey="true"
         autoincrement="true"
      />
      <field-descriptor id="2"
         name="name"
         column="NAME"
         jdbc-type="VARCHAR"
      />
      <field-descriptor id="3"
         name="order"
         column="ORDER"
         jdbc-type="INTEGER"
      />
      <field-descriptor id="4"
         name="information"
         column="INFORMATION"
         jdbc-type="LONGVARCHAR"
      />
      <field-descriptor id="5"
         name="urgent"
         column="URGENT"
         jdbc-type="INTEGER"
         conversion="org.apache.ojb.broker.accesslayer.conversions.Boolean2IntFieldConversion"
      />
      <field-descriptor id="6"
         name="keySection"
         column="KEY_SECTION"
         jdbc-type="INTEGER"
      />
      <reference-descriptor
         name="section"
         class-ref="Dominio.Seccao"
         proxy="true"
      >
         <foreignkey field-id-ref="6"/>
      </reference-descriptor>
   </class-descriptor>
   
<!-- ******************************************************************************************************************************* -->
<!-- Definitions for Dominio.Curriculum -->
<!-- ******************************************************************************************************************************* -->
<class-descriptor class="Dominio.Curriculum"
                  table="CURRICULUM">
    <field-descriptor id="1"
        name="internalCode"
        column="ID_INTERNAL"
        jdbc-type="INTEGER"
        primarykey="true"
        autoincrement="true"
    />
    <field-descriptor id="2"
        name="keyExecutionCourse"
        column="KEY_EXECUTION_COURSE"
        jdbc-type="INTEGER"
	/>
	<field-descriptor id="3"
        name="generalObjectives"
        column="GENERAL_OBJECTIVES"
        jdbc-type="VARCHAR"
	/>
	<field-descriptor id="4"
        name="operacionalObjectives"
        column="OPERACIONAL_OBJECTIVES"
        jdbc-type="VARCHAR"
	/>
	<field-descriptor id="5"
        name="program"
        column="PROGRAM"
        jdbc-type="VARCHAR"
	/>
    <reference-descriptor
         name="executionCourse"
         class-ref="Dominio.DisciplinaExecucao"
         proxy="true"
    >
	<foreignkey field-id-ref="2"/>
    </reference-descriptor>
    
</class-descriptor>
<!-- ********************************* -->
<!-- **********   TEACHER   ********** -->
<!-- ********************************* --> 

<!-- Definitions for Dominio.Teacher -->
   <class-descriptor
   	  class="Dominio.Teacher"
   	  table="TEACHER"
   >
      <field-descriptor id="1"
         name="codigoInterno"
         column="ID_INTERNAL"
         jdbc-type="INTEGER"
         primarykey="true"
         autoincrement="true"
      />
      <field-descriptor id="2"
         name="username"
         column="USERNAME"
         jdbc-type="VARCHAR"
      />
      <field-descriptor id="3"
         name="password"
         column="PASSWORD"
         jdbc-type="VARCHAR"
      />
      <field-descriptor id="4"
         name="teacherNumber"
         column="TEACHER_NUMBER"
         jdbc-type="INTEGER"
      />
             
  <!-- Para reflectir a relacao de 1..* entre Docente e Sitio de responsÃ¡vel -->
  <collection-descriptor
         name="sitesOwned"
         element-class-ref="Dominio.Site"
         indirection-table="OWNS"
      >
         <fk-pointing-to-this-class column="ID_TEACHER"/>
         <fk-pointing-to-element-class column="ID_SITE"/>
      </collection-descriptor>
  
      <collection-descriptor
         name="professorShipsSites"
         element-class-ref="Dominio.Site"
         indirection-table="PROFESSORSHIPS"
      >
         <fk-pointing-to-this-class column="ID_TEACHER"/>
         <fk-pointing-to-element-class column="ID_SITE"/>
      </collection-descriptor>
  
   </class-descriptor>
<!-- Mapping of User defined classes ends here -->