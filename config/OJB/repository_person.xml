<!-- ***********************************
     Definitions for net.sourceforge.fenixedu.domain.Person 
     *********************************** -->
<class-descriptor class="net.sourceforge.fenixedu.domain.Person"
				  
                  table="PERSON">
    <field-descriptor
        name="idInternal"
        column="ID_INTERNAL"
        jdbc-type="INTEGER"
        primarykey="true"
        autoincrement="true"
    />
      <field-descriptor
      	name="ackOptLock"
      	column="ACK_OPT_LOCK"
      	jdbc-type="INTEGER"
      	locking="false"
      />
    <field-descriptor
        name="numeroDocumentoIdentificacao"
        column="DOCUMENT_ID_NUMBER"
        jdbc-type="VARCHAR"
    />
    <field-descriptor
        name="localEmissaoDocumentoIdentificacao"
        column="EMISSION_LOCATION_OF_DOCUMENT_ID"
        jdbc-type="VARCHAR"
    />
    <field-descriptor
        name="dataEmissaoDocumentoIdentificacao"
        column="EMISSION_DATE_OF_DOCUMENT_ID"
        jdbc-type="DATE"
    />
    <field-descriptor
        name="dataValidadeDocumentoIdentificacao"
        column="EXPERATION_DATE_OF_DOCUMENT_ID"
        jdbc-type="DATE"
    />
    <field-descriptor
        name="nome"
        column="NAME"
        jdbc-type="VARCHAR"
    />
    <field-descriptor
        name="nascimento"
        column="DATE_OF_BIRTH"
        jdbc-type="DATE"
    />
    <field-descriptor
        name="nomePai"
        column="NAME_OF_FATHER"
        jdbc-type="VARCHAR"
    />
    <field-descriptor
        name="nomeMae"
        column="NAME_OF_MOTHER"
        jdbc-type="VARCHAR"
    />
    <field-descriptor
        name="freguesiaNaturalidade"
        column="PARISH_OF_BIRTH"
        jdbc-type="VARCHAR"
    />
    <field-descriptor
        name="concelhoNaturalidade"
        column="DISTRICT_SUBDIVISION_OF_BIRTH"
        jdbc-type="VARCHAR"
    />
    <field-descriptor
        name="distritoNaturalidade"
        column="DISTRICT_OF_BIRTH"
        jdbc-type="VARCHAR"
    />
    <field-descriptor
        name="morada"
        column="ADDRESS"
        jdbc-type="VARCHAR"
    />
    <field-descriptor
        name="localidade"
        column="AREA"
        jdbc-type="VARCHAR"
    />
    <field-descriptor
        name="codigoPostal"
        column="AREA_CODE"
        jdbc-type="VARCHAR"
    />
    <field-descriptor
        name="localidadeCodigoPostal"
        column="AREA_OF_AREA_CODE"
        jdbc-type="VARCHAR"
    />
    <field-descriptor
        name="freguesiaMorada"
        column="PARISH_OF_RESIDENCE"
        jdbc-type="VARCHAR"
    />
    <field-descriptor
        name="concelhoMorada"
        column="DISTRICT_SUBDIVISION_OF_RESIDENCE"
        jdbc-type="VARCHAR"
    />
    <field-descriptor
        name="distritoMorada"
        column="DISTRICT_OF_RESIDENCE"
        jdbc-type="VARCHAR"
    />
    <field-descriptor
        name="telefone"
        column="PHONE"
        jdbc-type="VARCHAR"
    />
    <field-descriptor
        name="telemovel"
        column="MOBILE"
        jdbc-type="VARCHAR"
    />
    <field-descriptor
        name="workPhone"
        column="WORK_PHONE"
        jdbc-type="VARCHAR"
    />
    <field-descriptor
        name="email"
        column="EMAIL"
        jdbc-type="VARCHAR"
    />
    <field-descriptor
        name="availableEmail"
        column="AVAILABLE_EMAIL"
        jdbc-type="BIT"
    />
    <field-descriptor
        name="enderecoWeb"
        column="WEB_ADRDRESS"
        jdbc-type="VARCHAR"
    />
    <field-descriptor
        name="availableWebSite"
        column="AVAILABLE_WEBSITE"
        jdbc-type="BIT"
    />
    <field-descriptor
        name="numContribuinte"
        column="SOCIAL_SECURITY_NUMBER"
        jdbc-type="VARCHAR"
    />
    <field-descriptor
        name="profissao"
        column="PROFESSION"
        jdbc-type="VARCHAR"
    />
    <field-descriptor
        name="username"
        column="USERNAME"
        jdbc-type="VARCHAR"
    />
    <field-descriptor
        name="password"
        column="PASSWD"
        jdbc-type="VARCHAR"
    />
    <field-descriptor
        name="chavePais"
        column="KEY_COUNTRY"
        jdbc-type="INTEGER"
    />
    <field-descriptor
        name="codigoFiscal"
        column="FISCAL_CODE"
        jdbc-type="VARCHAR"
    />
    <field-descriptor
        name="idDocumentType"
        column="TYPE_ID_DOCUMENT"
        jdbc-type="VARCHAR"
		conversion="net.sourceforge.fenixedu.persistenceTier.Conversores.JavaTipoDocId2SqlTipoDocIdFieldConversion"
    />
    <field-descriptor
        name="gender"
        column="SEX"
        jdbc-type="VARCHAR"
		conversion="net.sourceforge.fenixedu.persistenceTier.Conversores.JavaSex2SqlSexFieldConversion"
    />
    <field-descriptor
        name="maritalStatus"
        column="MARITAL_STATUS"
        jdbc-type="VARCHAR"
		conversion="net.sourceforge.fenixedu.persistenceTier.Conversores.JavaMaritalStatus2SqlMaritalStatusFieldConversion"
    />
	<field-descriptor
        name="availablePhoto"
        column="AVAILABLE_PHOTO"
        jdbc-type="BIT"
    />
    <field-descriptor 
	   name="keyExternalPerson"    
	   column="KEY_EXTERNAL_PERSON"  
	   jdbc-type="INTEGER"
    />
	<field-descriptor 
	   name="keyEmployee"    
	   column="KEY_EMPLOYEE"  
	   jdbc-type="INTEGER"
    />
   	<field-descriptor 
	   name="keyTeacher"    
	   column="KEY_TEACHER"  
	   jdbc-type="INTEGER"
    />
 	<field-descriptor 
	   name="keyGrantOwner"    
	   column="KEY_GRANT_OWNER"  
	   jdbc-type="INTEGER"
    />
	<field-descriptor
        name="isPassInKerberos"
        column="IS_PASS_KERBEROS"
        jdbc-type="BIT"
    /> 
    <field-descriptor
        name="istUsername"
        column="IST_USERNAME"
        jdbc-type="VARCHAR"
    />  
    <field-descriptor
        name="keyCms"
        column="KEY_CMS"
        jdbc-type="INTEGER"
    />      
    <field-descriptor
        name="keyPersonalPhoto"
        column="KEY_PERSONAL_PHOTO"
        jdbc-type="INTEGER"
    />     
    <reference-descriptor auto-retrieve="false"
    	name="personalPhoto"
        class-ref="net.sourceforge.fenixedu.domain.FileEntry">
	    <foreignkey field-ref="keyPersonalPhoto"/>
	</reference-descriptor>    
    <reference-descriptor auto-retrieve="false"
    	name="grantOwner"
        class-ref="net.sourceforge.fenixedu.domain.grant.owner.GrantOwner">
	    <foreignkey field-ref="keyGrantOwner"/>
	</reference-descriptor>
    <reference-descriptor auto-retrieve="false"
    	name="externalPerson"
        class-ref="net.sourceforge.fenixedu.domain.ExternalPerson">
	    <foreignkey field-ref="keyExternalPerson"/>
	</reference-descriptor>
    <reference-descriptor auto-retrieve="false"
    	name="teacher"
        class-ref="net.sourceforge.fenixedu.domain.Teacher">
	    <foreignkey field-ref="keyTeacher"/>
	</reference-descriptor>
    <reference-descriptor auto-retrieve="false"
         name="pais"
         class-ref="net.sourceforge.fenixedu.domain.Country"
         
    >
         <foreignkey field-ref="chavePais"/>
    </reference-descriptor>
    <reference-descriptor auto-retrieve="false"
         name="employee"
         class-ref="net.sourceforge.fenixedu.domain.Employee"
         >
         <foreignkey field-ref="keyEmployee"/>
    </reference-descriptor>
    <collection-descriptor proxy="true" auto-retrieve="false" collection-class="org.apache.ojb.broker.util.collections.ManageableVector"
         name="personRoles"
         element-class-ref="net.sourceforge.fenixedu.domain.Role"
         indirection-table = "PERSON_ROLE"
    >
    	<fk-pointing-to-this-class  column="KEY_PERSON" />
    	<fk-pointing-to-element-class column="KEY_ROLE" />
    </collection-descriptor>    
    <collection-descriptor proxy="true" auto-retrieve="false" collection-class="org.apache.ojb.broker.util.collections.ManageableVector"
         name="manageableDepartmentCredits"
         element-class-ref="net.sourceforge.fenixedu.domain.Department"
         
         indirection-table = "crd_CREDITS_MANAGER_DEPARTMENT"
         
         
         auto-update="false"
         auto-delete="false"
    >
    	<fk-pointing-to-this-class  column="KEY_PERSON" />
    	<fk-pointing-to-element-class column="KEY_DEPARTMENT" />
    </collection-descriptor>    
    <collection-descriptor proxy="true" auto-retrieve="false" collection-class="org.apache.ojb.broker.util.collections.ManageableVector"
         name="advisories"
         element-class-ref="net.sourceforge.fenixedu.domain.Advisory"
         
         indirection-table = "PERSON_ADVISORY"
                  
         auto-update="false"
         auto-delete="false"
	>
    	<fk-pointing-to-this-class  column="KEY_PERSON" />
    	<fk-pointing-to-element-class column="KEY_ADVISORY" />
    	<query-customizer
	    	class="net.sourceforge.fenixedu.persistenceTier.customQueries.AdvisoryFilter">
	    </query-customizer>
    </collection-descriptor>    
	<collection-descriptor proxy="true" auto-retrieve="false" collection-class="org.apache.ojb.broker.util.collections.ManageableVector" 
		name="associatedAlteredCurriculums" 
		element-class-ref="net.sourceforge.fenixedu.domain.Curriculum"
		
		>
		<inverse-foreignkey field-ref="keyPersonWhoAltered"/>
	</collection-descriptor>
	<collection-descriptor proxy="true" auto-retrieve="false" collection-class="org.apache.ojb.broker.util.collections.ManageableVector" 
		name="enrolmentEvaluations" 
		element-class-ref="net.sourceforge.fenixedu.domain.EnrolmentEvaluation"
		>
		<inverse-foreignkey field-ref="personResponsibleForGradeKey"/>
	</collection-descriptor>
	<collection-descriptor proxy="true" auto-retrieve="false" collection-class="org.apache.ojb.broker.util.collections.ManageableVector" 
		name="enrolmentEvaluations" 
		element-class-ref="net.sourceforge.fenixedu.domain.EnrolmentEvaluation"
		
		>
		<inverse-foreignkey field-ref="personResponsibleForGradeKey"/>
	</collection-descriptor>
	<collection-descriptor proxy="true" auto-retrieve="false" collection-class="org.apache.ojb.broker.util.collections.ManageableVector" 
		name="students" 
		element-class-ref="net.sourceforge.fenixedu.domain.Student">
			<inverse-foreignkey field-ref="personKey"/>
	</collection-descriptor>
	<collection-descriptor proxy="true" auto-retrieve="false" collection-class="org.apache.ojb.broker.util.collections.ManageableVector"
			name="personAuthorships"
			element-class-ref="net.sourceforge.fenixedu.domain.publication.Authorship"
			refresh="true" >
		<inverse-foreignkey field-ref="keyAuthor"/>
	</collection-descriptor>
	<collection-descriptor proxy="true" auto-retrieve="false" collection-class="org.apache.ojb.broker.util.collections.ManageableVector"
			name="associatedPersonRoles"
			element-class-ref="net.sourceforge.fenixedu.domain.PersonRole"
			refresh="true" >
		<inverse-foreignkey field-ref="keyPerson"/>
	</collection-descriptor>
	<collection-descriptor proxy="true" auto-retrieve="false" collection-class="org.apache.ojb.broker.util.collections.ManageableVector"
			name="editedWebSiteItems"
			element-class-ref="net.sourceforge.fenixedu.domain.WebSiteItem"
			refresh="true" >
		<inverse-foreignkey field-ref="keyEditor"/>
	</collection-descriptor>
	<collection-descriptor proxy="true" auto-retrieve="false" collection-class="org.apache.ojb.broker.util.collections.ManageableVector"
			name="guides"
			element-class-ref="net.sourceforge.fenixedu.domain.Guide"
			refresh="true" >
		<inverse-foreignkey field-ref="keyPerson"/>
	</collection-descriptor>
	<collection-descriptor proxy="true" auto-retrieve="false" collection-class="org.apache.ojb.broker.util.collections.ManageableVector"
			name="sentSms"
			element-class-ref="net.sourceforge.fenixedu.domain.sms.SentSms"
			refresh="true" >
		<inverse-foreignkey field-ref="keyPerson"/>
	</collection-descriptor>
	<collection-descriptor proxy="true" auto-retrieve="false" collection-class="org.apache.ojb.broker.util.collections.ManageableVector"
			name="responsabilityTransactions"
			element-class-ref="net.sourceforge.fenixedu.domain.transactions.Transaction"
			refresh="true" >
		<inverse-foreignkey field-ref="keyResponsiblePerson"/>
	</collection-descriptor>
	<collection-descriptor proxy="true" auto-retrieve="false" collection-class="org.apache.ojb.broker.util.collections.ManageableVector"
			name="projectAccesses"
			element-class-ref="net.sourceforge.fenixedu.domain.projectsManagement.ProjectAccess"
			refresh="true" >
		<inverse-foreignkey field-ref="keyPerson"/>
	</collection-descriptor>
	<collection-descriptor proxy="true" auto-retrieve="false" collection-class="org.apache.ojb.broker.util.collections.ManageableVector"
			name="masterDegreeCandidates"
			element-class-ref="net.sourceforge.fenixedu.domain.MasterDegreeCandidate"
			refresh="true" >
		<inverse-foreignkey field-ref="personKey"/>
	</collection-descriptor>
	<collection-descriptor proxy="true" auto-retrieve="false" collection-class="org.apache.ojb.broker.util.collections.ManageableVector"
			name="exportGroupingReceivers"
			element-class-ref="net.sourceforge.fenixedu.domain.ExportGrouping"
			refresh="true" >
		<inverse-foreignkey field-ref="keyReceiverPerson"/>
	</collection-descriptor>
	<collection-descriptor proxy="true" auto-retrieve="false" collection-class="org.apache.ojb.broker.util.collections.ManageableVector"
			name="exportGroupingSenders"
			element-class-ref="net.sourceforge.fenixedu.domain.ExportGrouping"
			refresh="true" >
		<inverse-foreignkey field-ref="keySenderPerson"/>
	</collection-descriptor>
	<collection-descriptor proxy="true" auto-retrieve="false" collection-class="org.apache.ojb.broker.util.collections.ManageableVector"
			name="contents"
			element-class-ref="net.sourceforge.fenixedu.domain.cms.Content"
			refresh="true" >
		<inverse-foreignkey field-ref="keyPerson"/>
	</collection-descriptor>
				
	<collection-descriptor proxy="true" collection-class="org.apache.ojb.broker.util.collections.ManageableVector"
			name="associatedQualifications"
			element-class-ref="net.sourceforge.fenixedu.domain.Qualification"
			refresh="true" >
		<inverse-foreignkey field-ref="personKey"/>
	</collection-descriptor>
	<collection-descriptor proxy="true" auto-retrieve="false" collection-class="org.apache.ojb.broker.util.collections.ManageableVector"
        name="personFunctions"
        element-class-ref="net.sourceforge.fenixedu.domain.organizationalStructure.PersonFunction">
		<inverse-foreignkey field-ref="keyPerson"/>
    </collection-descriptor>	
     <reference-descriptor auto-retrieve="false"
    	name="cms"
        class-ref="net.sourceforge.fenixedu.domain.cms.Cms">
	    <foreignkey field-ref="keyCms"/>
	</reference-descriptor>
</class-descriptor>
