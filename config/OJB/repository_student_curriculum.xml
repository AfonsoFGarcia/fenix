<!-- ************************************************************************************************************ -->
<!-- Definitions for net.sourceforge.fenixedu.domain.studentCurriculum.CurriculumModule -->
<!-- ************************************************************************************************************ -->
<class-descriptor class="net.sourceforge.fenixedu.domain.studentCurriculum.CurriculumModule" table="CURRICULUM_MODULE">
	<extent-class class-ref="net.sourceforge.fenixedu.domain.studentCurriculum.CurriculumGroup" />
    <extent-class class-ref="net.sourceforge.fenixedu.domain.studentCurriculum.CurriculumLine" />

	<field-descriptor
		name="idInternal"
		column="ID_INTERNAL"
		jdbc-type="INTEGER"
		primarykey="true"
		autoincrement="true"
	/>
	<field-descriptor
         name="ojbConcreteClass"
         column="CLASS_NAME"
         jdbc-type="VARCHAR"
    />
    <field-descriptor
         name="keyDegreeModule"
         column="KEY_DEGREE_MODULE"
         jdbc-type="INTEGER"
    />	
    <field-descriptor
         name="keyCurriculumGroup"
         column="KEY_CURRICULUM_GROUP"
         jdbc-type="INTEGER"
    />			
	<reference-descriptor auto-retrieve="false"
			name="curriculumGroup"
			class-ref="net.sourceforge.fenixedu.domain.studentCurriculum.CurriculumGroup"
            >
		<foreignkey field-ref="keyCurriculumGroup"/>
	</reference-descriptor>
	<reference-descriptor auto-retrieve="false"
			name="degreeModule"
			class-ref="net.sourceforge.fenixedu.domain.degreeStructure.DegreeModule"
            >
		<foreignkey field-ref="keyDegreeModule"/>
	</reference-descriptor>	
</class-descriptor>

<class-descriptor class="net.sourceforge.fenixedu.domain.studentCurriculum.CurriculumGroup" table="CURRICULUM_MODULE">
	<field-descriptor
		name="idInternal"
		column="ID_INTERNAL"
		jdbc-type="INTEGER"
		primarykey="true"
		autoincrement="true"
	/>
	<field-descriptor
         name="ojbConcreteClass"
         column="CLASS_NAME"
         jdbc-type="VARCHAR"
    />	
    <field-descriptor
         name="keyDegreeModule"
         column="KEY_DEGREE_MODULE"
         jdbc-type="INTEGER"
    />	
    <field-descriptor
         name="keyCurriculumGroup"
         column="KEY_CURRICULUM_GROUP"
         jdbc-type="INTEGER"
    />				
	<reference-descriptor auto-retrieve="false"
			name="curriculumGroup"
			class-ref="net.sourceforge.fenixedu.domain.studentCurriculum.CurriculumGroup"
            >
		<foreignkey field-ref="keyCurriculumGroup"/>
	</reference-descriptor>
	<reference-descriptor auto-retrieve="false"
			name="degreeModule"
			class-ref="net.sourceforge.fenixedu.domain.degreeStructure.DegreeModule"
            >
		<foreignkey field-ref="keyDegreeModule"/>
	</reference-descriptor>	
	<reference-descriptor auto-retrieve="false"
			name="parentStudentCurricularPlan"
			class-ref="net.sourceforge.fenixedu.domain.StudentCurricularPlan"
            >
		<foreignkey field-ref="keyParentStudentCurricularPlan"/>
	</reference-descriptor>		
	<collection-descriptor proxy="true" auto-retrieve="false" collection-class="org.apache.ojb.broker.util.collections.ManageableVector"
			name="curriculumModules"
			element-class-ref="net.sourceforge.fenixedu.domain.studentCurriculum.CurriculumModule">
		<inverse-foreignkey field-ref="keyCurriculumGroup"/>
	</collection-descriptor>
</class-descriptor>

<class-descriptor class="net.sourceforge.fenixedu.domain.studentCurriculum.CurriculumLine" table="CURRICULUM_MODULE">
	<extent-class class-ref="net.sourceforge.fenixedu.domain.studentCurriculum.Equivalence" />
    <extent-class class-ref="net.sourceforge.fenixedu.domain.studentCurriculum.Credits" />
    <extent-class class-ref="net.sourceforge.fenixedu.domain.Enrolment" />    

	<field-descriptor
		name="idInternal"
		column="ID_INTERNAL"
		jdbc-type="INTEGER"
		primarykey="true"
		autoincrement="true"
	/>
	<field-descriptor
         name="ojbConcreteClass"
         column="CLASS_NAME"
         jdbc-type="VARCHAR"
    />
    <field-descriptor
         name="keyDegreeModule"
         column="KEY_DEGREE_MODULE"
         jdbc-type="INTEGER"
    />	
    <field-descriptor
         name="keyCurriculumGroup"
         column="KEY_CURRICULUM_GROUP"
         jdbc-type="INTEGER"
    />					
	<reference-descriptor auto-retrieve="false"
			name="curriculumGroup"
			class-ref="net.sourceforge.fenixedu.domain.studentCurriculum.CurriculumGroup"
            >
		<foreignkey field-ref="keyCurriculumGroup"/>
	</reference-descriptor>
	<reference-descriptor auto-retrieve="false"
			name="degreeModule"
			class-ref="net.sourceforge.fenixedu.domain.degreeStructure.DegreeModule"
            >
		<foreignkey field-ref="keyDegreeModule"/>
	</reference-descriptor>	
</class-descriptor>

<class-descriptor class="net.sourceforge.fenixedu.domain.studentCurriculum.Credits" table="CURRICULUM_MODULE">

	<field-descriptor
		name="idInternal"
		column="ID_INTERNAL"
		jdbc-type="INTEGER"
		primarykey="true"
		autoincrement="true"
	/>
	<field-descriptor
         name="ojbConcreteClass"
         column="CLASS_NAME"
         jdbc-type="VARCHAR"
    />
    <field-descriptor
         name="keyDegreeModule"
         column="KEY_DEGREE_MODULE"
         jdbc-type="INTEGER"
    />	
    <field-descriptor
         name="keyCurriculumGroup"
         column="KEY_CURRICULUM_GROUP"
         jdbc-type="INTEGER"
    />					
    <field-descriptor
         name="givenCredits"
         column="GIVEN_CREDITS"
         jdbc-type="INTEGER"
    />	
	<reference-descriptor auto-retrieve="false"
			name="curriculumGroup"
			class-ref="net.sourceforge.fenixedu.domain.studentCurriculum.CurriculumGroup"
            >
		<foreignkey field-ref="keyCurriculumGroup"/>
	</reference-descriptor>
	<reference-descriptor auto-retrieve="false"
			name="degreeModule"
			class-ref="net.sourceforge.fenixedu.domain.degreeStructure.DegreeModule"
            >
		<foreignkey field-ref="keyDegreeModule"/>
	</reference-descriptor>
	
	<collection-descriptor proxy="true" auto-retrieve="false" collection-class="org.apache.ojb.broker.util.collections.ManageableVector"
         name="enrolments"
         element-class-ref="net.sourceforge.fenixedu.domain.Enrolment"
         
         indirection-table = "CREDITS_ENROLMENT"
         
         
         auto-update="false"
         auto-delete="false"
    >
    	<fk-pointing-to-this-class  column="KEY_CREDITS" />
    	<fk-pointing-to-element-class column="KEY_ENROLMENT" />
    </collection-descriptor>    
	
</class-descriptor>

<class-descriptor class="net.sourceforge.fenixedu.domain.studentCurriculum.Equivalence" table="CURRICULUM_MODULE">

	<field-descriptor
		name="idInternal"
		column="ID_INTERNAL"
		jdbc-type="INTEGER"
		primarykey="true"
		autoincrement="true"
	/>
	<field-descriptor
         name="ojbConcreteClass"
         column="CLASS_NAME"
         jdbc-type="VARCHAR"
    />		
    <field-descriptor
         name="keyDegreeModule"
         column="KEY_DEGREE_MODULE"
         jdbc-type="INTEGER"
    />	
    <field-descriptor
         name="keyCurriculumGroup"
         column="KEY_CURRICULUM_GROUP"
         jdbc-type="INTEGER"
    />			
	<reference-descriptor auto-retrieve="false"
			name="curriculumGroup"
			class-ref="net.sourceforge.fenixedu.domain.studentCurriculum.CurriculumGroup"
            >
		<foreignkey field-ref="keyCurriculumGroup"/>
	</reference-descriptor>
	<reference-descriptor auto-retrieve="false"
			name="degreeModule"
			class-ref="net.sourceforge.fenixedu.domain.degreeStructure.DegreeModule"
            >
		<foreignkey field-ref="keyDegreeModule"/>
	</reference-descriptor>
	
	<collection-descriptor proxy="true" auto-retrieve="false" collection-class="org.apache.ojb.broker.util.collections.ManageableVector"
         name="enrolments"
         element-class-ref="net.sourceforge.fenixedu.domain.Enrolment"
         
         indirection-table = "EQUIVALENT_ENROLMENT"
         
         
         auto-update="false"
         auto-delete="false"
    >
    	<fk-pointing-to-this-class  column="KEY_EQUIVALENT" />
    	<fk-pointing-to-element-class column="KEY_ENROLMENT" />
    </collection-descriptor>    
	
</class-descriptor>