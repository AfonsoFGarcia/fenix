SET AUTOCOMMIT = 0;

START TRANSACTION;

INSERT INTO NODE (NODE_ORDER,ASCENDING,VISIBLE,CONTENT_ID,KEY_CHILD,KEY_PARENT,KEY_ROOT_DOMAIN_OBJECT,OJB_CONCRETE_CLASS) VALUES (6,1,1,'940d3b34-752c-4e56-8d35-c1dab4f954a8:36a1a02d-ea05-4fd7-b188-37c7af03f298',1,2,1,'net.sourceforge.fenixedu.domain.contents.ExplicitOrderNode')  ;

INSERT INTO CONTENT (EXECUTION_PATH,VISIBLE,KEY_EXECUTION_PATH_VALUE,CONTENT_ID,CREATION_DATE,NAME,TITLE,BODY,DESCRIPTION,NORMALIZED_NAME,KEY_PORTAL,KEY_AVAILABILITY_POLICY,KEY_ROOT_DOMAIN_OBJECT,KEY_CREATOR,OJB_CONCRETE_CLASS) VALUES ('/viewEmployeeAssiduousness.do?method=chooseEmployee&action=showStatus',null,3,'36a1a02d-ea05-4fd7-b188-37c7af03f298','2008-05-02 17:37:07','pt6:Status','pt6:Status',null,null,'pt6:status',null,null,1,null,'net.sourceforge.fenixedu.domain.functionalities.Functionality')  ;

INSERT INTO EXECUTION_PATH (EXECUTION_PATH,CONTENT_ID,KEY_FUNCTIONALITY,KEY_ROOT_DOMAIN_OBJECT) VALUES ('/viewEmployeeAssiduousness.do?method=chooseEmployee&action=showStatus','bfdeddc3-6715-4841-a818-92db2b60fe94',4,1)  ;

UPDATE NODE SET NODE_ORDER=6,ASCENDING=1,VISIBLE=1,CONTENT_ID='940d3b34-752c-4e56-8d35-c1dab4f954a8:36a1a02d-ea05-4fd7-b188-37c7af03f298',KEY_CHILD=5,KEY_PARENT=6,KEY_ROOT_DOMAIN_OBJECT=1,OJB_CONCRETE_CLASS='net.sourceforge.fenixedu.domain.contents.ExplicitOrderNode' WHERE CONTENT_ID = '940d3b34-752c-4e56-8d35-c1dab4f954a8:36a1a02d-ea05-4fd7-b188-37c7af03f298'  ;

UPDATE CONTENT SET EXECUTION_PATH='/viewEmployeeAssiduousness.do?method=chooseEmployee&action=showStatus',VISIBLE=null,KEY_EXECUTION_PATH_VALUE=7,CONTENT_ID='36a1a02d-ea05-4fd7-b188-37c7af03f298',CREATION_DATE='2008-05-02 17:37:07',NAME='pt6:Status',TITLE='pt6:Status',BODY=null,DESCRIPTION=null,NORMALIZED_NAME='pt6:status',KEY_PORTAL=null,KEY_AVAILABILITY_POLICY=null,KEY_ROOT_DOMAIN_OBJECT=1,KEY_CREATOR=null,OJB_CONCRETE_CLASS='net.sourceforge.fenixedu.domain.functionalities.Functionality' WHERE CONTENT_ID = '36a1a02d-ea05-4fd7-b188-37c7af03f298'  ;

UPDATE EXECUTION_PATH SET EXECUTION_PATH='/viewEmployeeAssiduousness.do?method=chooseEmployee&action=showStatus',CONTENT_ID='bfdeddc3-6715-4841-a818-92db2b60fe94',KEY_FUNCTIONALITY=8,KEY_ROOT_DOMAIN_OBJECT=1 WHERE CONTENT_ID = 'bfdeddc3-6715-4841-a818-92db2b60fe94'  ;

CREATE TEMPORARY TABLE UUID_TEMP_TABLE(COUNTER integer, UUID varchar(255), FROM_UUID varchar(255));

INSERT INTO UUID_TEMP_TABLE(COUNTER,UUID,FROM_UUID) VALUES(1,'36a1a02d-ea05-4fd7-b188-37c7af03f298','940d3b34-752c-4e56-8d35-c1dab4f954a8:36a1a02d-ea05-4fd7-b188-37c7af03f298') ;
INSERT INTO UUID_TEMP_TABLE(COUNTER,UUID,FROM_UUID) VALUES(2,'940d3b34-752c-4e56-8d35-c1dab4f954a8','940d3b34-752c-4e56-8d35-c1dab4f954a8:36a1a02d-ea05-4fd7-b188-37c7af03f298') ;
INSERT INTO UUID_TEMP_TABLE(COUNTER,UUID,FROM_UUID) VALUES(3,'TOKEN(EXECUTION_PATH,940)','36a1a02d-ea05-4fd7-b188-37c7af03f298') ;
INSERT INTO UUID_TEMP_TABLE(COUNTER,UUID,FROM_UUID) VALUES(4,'36a1a02d-ea05-4fd7-b188-37c7af03f298','bfdeddc3-6715-4841-a818-92db2b60fe94') ;
INSERT INTO UUID_TEMP_TABLE(COUNTER,UUID,FROM_UUID) VALUES(5,'36a1a02d-ea05-4fd7-b188-37c7af03f298','940d3b34-752c-4e56-8d35-c1dab4f954a8:36a1a02d-ea05-4fd7-b188-37c7af03f298') ;
INSERT INTO UUID_TEMP_TABLE(COUNTER,UUID,FROM_UUID) VALUES(6,'940d3b34-752c-4e56-8d35-c1dab4f954a8','940d3b34-752c-4e56-8d35-c1dab4f954a8:36a1a02d-ea05-4fd7-b188-37c7af03f298') ;
INSERT INTO UUID_TEMP_TABLE(COUNTER,UUID,FROM_UUID) VALUES(7,'bfdeddc3-6715-4841-a818-92db2b60fe94','36a1a02d-ea05-4fd7-b188-37c7af03f298') ;
INSERT INTO UUID_TEMP_TABLE(COUNTER,UUID,FROM_UUID) VALUES(8,'36a1a02d-ea05-4fd7-b188-37c7af03f298','bfdeddc3-6715-4841-a818-92db2b60fe94') ;
ALTER TABLE UUID_TEMP_TABLE ADD INDEX (COUNTER), ADD INDEX (UUID), ADD INDEX (FROM_UUID); 


UPDATE NODE T, UUID_TEMP_TABLE UIT, CONTENT CT set T.KEY_PARENT=CT.ID_INTERNAL WHERE T.KEY_PARENT=UIT.COUNTER AND T.CONTENT_ID = UIT.FROM_UUID AND CT.CONTENT_ID=UIT.UUID;
UPDATE NODE T, UUID_TEMP_TABLE UIT, CONTENT CT set T.KEY_CHILD=CT.ID_INTERNAL WHERE T.KEY_CHILD=UIT.COUNTER AND T.CONTENT_ID = UIT.FROM_UUID AND CT.CONTENT_ID=UIT.UUID;
UPDATE CONTENT T, UUID_TEMP_TABLE UIT, CONTENT CT set T.KEY_FUNCTIONALITY=CT.ID_INTERNAL WHERE T.KEY_FUNCTIONALITY=UIT.COUNTER AND T.CONTENT_ID = UIT.FROM_UUID AND CT.CONTENT_ID=UIT.UUID;
UPDATE CONTENT T, UUID_TEMP_TABLE UIT, EXECUTION_PATH CT set T.KEY_EXECUTION_PATH_VALUE=CT.ID_INTERNAL WHERE T.KEY_EXECUTION_PATH_VALUE=UIT.COUNTER AND T.CONTENT_ID = UIT.FROM_UUID AND CT.CONTENT_ID=UIT.UUID;
UPDATE CONTENT T, UUID_TEMP_TABLE UIT, CONTENT CT set T.KEY_INITIAL_CONTENT=CT.ID_INTERNAL WHERE T.KEY_INITIAL_CONTENT=UIT.COUNTER AND T.CONTENT_ID = UIT.FROM_UUID AND CT.CONTENT_ID=UIT.UUID;
UPDATE CONTENT T, UUID_TEMP_TABLE UIT, CONTENT CT set T.KEY_PORTAL=CT.ID_INTERNAL WHERE T.KEY_PORTAL=UIT.COUNTER AND T.CONTENT_ID = UIT.FROM_UUID AND CT.CONTENT_ID=UIT.UUID;
UPDATE CONTENT T, UUID_TEMP_TABLE UIT, AVAILABILITY_POLICY CT set T.KEY_AVAILABILITY_POLICY=CT.ID_INTERNAL WHERE T.KEY_AVAILABILITY_POLICY=UIT.COUNTER AND T.CONTENT_ID = UIT.FROM_UUID AND CT.CONTENT_ID=UIT.UUID;
UPDATE AVAILABILITY_POLICY T, UUID_TEMP_TABLE UIT, CONTENT CT set T.KEY_CONTENT=CT.ID_INTERNAL WHERE T.KEY_CONTENT=UIT.COUNTER AND T.CONTENT_ID = UIT.FROM_UUID AND CT.CONTENT_ID=UIT.UUID;
UPDATE EXECUTION_PATH T, UUID_TEMP_TABLE UIT, CONTENT CT set T.KEY_FUNCTIONALITY=CT.ID_INTERNAL WHERE T.KEY_FUNCTIONALITY=UIT.COUNTER AND T.CONTENT_ID = UIT.FROM_UUID AND CT.CONTENT_ID=UIT.UUID;
DROP TABLE UUID_TEMP_TABLE;

DELETE FROM NODE WHERE CONTENT_ID = 'null' ;

DELETE FROM NODE WHERE CONTENT_ID = 'null' ;

DELETE FROM NODE WHERE CONTENT_ID = 'null' ;

DELETE FROM NODE WHERE CONTENT_ID = 'null' ;

DELETE FROM NODE WHERE CONTENT_ID = 'null' ;

DELETE FROM NODE WHERE CONTENT_ID = 'null' ;

DELETE FROM NODE WHERE CONTENT_ID = 'null' ;

CREATE TEMPORARY TABLE UUID_TEMP_TABLE(COUNTER integer, UUID varchar(255), FROM_UUID varchar(255));

ALTER TABLE UUID_TEMP_TABLE ADD INDEX (COUNTER), ADD INDEX (UUID), ADD INDEX (FROM_UUID); 


DROP TABLE UUID_TEMP_TABLE;

INSERT INTO NODE (NODE_ORDER,ASCENDING,VISIBLE,CONTENT_ID,KEY_CHILD,KEY_PARENT,KEY_ROOT_DOMAIN_OBJECT,OJB_CONCRETE_CLASS) VALUES (5,1,1,'11279eeb-6e02-4374-a255-fc140930f111:d9231a2d-bd38-4b63-adc4-93722a52a1f7',9,10,1,'net.sourceforge.fenixedu.domain.contents.ExplicitOrderNode')  ;

INSERT INTO EXECUTION_PATH (EXECUTION_PATH,CONTENT_ID,KEY_FUNCTIONALITY,KEY_ROOT_DOMAIN_OBJECT) VALUES ('/exportAssiduousness.do?method=chooseYearMonth&action=exportVacations&chooseYear=true&choosePersonFunction=true','40534431-ee7b-4427-8b7b-70323b147cec',11,1)  ;

INSERT INTO CONTENT (EXECUTION_PATH,VISIBLE,KEY_EXECUTION_PATH_VALUE,CONTENT_ID,CREATION_DATE,NAME,TITLE,BODY,DESCRIPTION,NORMALIZED_NAME,KEY_PORTAL,KEY_AVAILABILITY_POLICY,KEY_ROOT_DOMAIN_OBJECT,KEY_CREATOR,OJB_CONCRETE_CLASS) VALUES ('/exportAssiduousness.do?method=chooseYearMonth&action=exportVacations&chooseYear=true&choosePersonFunction=true',null,12,'d9231a2d-bd38-4b63-adc4-93722a52a1f7','2008-05-02 17:38:20','pt15:Exportar Férias','pt15:Exportar Férias',null,null,'pt15:exportar-ferias',null,null,1,null,'net.sourceforge.fenixedu.domain.functionalities.Functionality')  ;

UPDATE NODE SET NODE_ORDER=5,ASCENDING=1,VISIBLE=1,CONTENT_ID='11279eeb-6e02-4374-a255-fc140930f111:d9231a2d-bd38-4b63-adc4-93722a52a1f7',KEY_CHILD=13,KEY_PARENT=14,KEY_ROOT_DOMAIN_OBJECT=1,OJB_CONCRETE_CLASS='net.sourceforge.fenixedu.domain.contents.ExplicitOrderNode' WHERE CONTENT_ID = '11279eeb-6e02-4374-a255-fc140930f111:d9231a2d-bd38-4b63-adc4-93722a52a1f7'  ;

UPDATE EXECUTION_PATH SET EXECUTION_PATH='/exportAssiduousness.do?method=chooseYearMonth&action=exportVacations&chooseYear=true&choosePersonFunction=true',CONTENT_ID='40534431-ee7b-4427-8b7b-70323b147cec',KEY_FUNCTIONALITY=15,KEY_ROOT_DOMAIN_OBJECT=1 WHERE CONTENT_ID = '40534431-ee7b-4427-8b7b-70323b147cec'  ;

UPDATE CONTENT SET EXECUTION_PATH='/exportAssiduousness.do?method=chooseYearMonth&action=exportVacations&chooseYear=true&choosePersonFunction=true',VISIBLE=null,KEY_EXECUTION_PATH_VALUE=16,CONTENT_ID='d9231a2d-bd38-4b63-adc4-93722a52a1f7',CREATION_DATE='2008-05-02 17:38:20',NAME='pt15:Exportar Férias',TITLE='pt15:Exportar Férias',BODY=null,DESCRIPTION=null,NORMALIZED_NAME='pt15:exportar-ferias',KEY_PORTAL=null,KEY_AVAILABILITY_POLICY=null,KEY_ROOT_DOMAIN_OBJECT=1,KEY_CREATOR=null,OJB_CONCRETE_CLASS='net.sourceforge.fenixedu.domain.functionalities.Functionality' WHERE CONTENT_ID = 'd9231a2d-bd38-4b63-adc4-93722a52a1f7'  ;

CREATE TEMPORARY TABLE UUID_TEMP_TABLE(COUNTER integer, UUID varchar(255), FROM_UUID varchar(255));

INSERT INTO UUID_TEMP_TABLE(COUNTER,UUID,FROM_UUID) VALUES(9,'d9231a2d-bd38-4b63-adc4-93722a52a1f7','11279eeb-6e02-4374-a255-fc140930f111:d9231a2d-bd38-4b63-adc4-93722a52a1f7') ;
INSERT INTO UUID_TEMP_TABLE(COUNTER,UUID,FROM_UUID) VALUES(10,'11279eeb-6e02-4374-a255-fc140930f111','11279eeb-6e02-4374-a255-fc140930f111:d9231a2d-bd38-4b63-adc4-93722a52a1f7') ;
INSERT INTO UUID_TEMP_TABLE(COUNTER,UUID,FROM_UUID) VALUES(11,'d9231a2d-bd38-4b63-adc4-93722a52a1f7','40534431-ee7b-4427-8b7b-70323b147cec') ;
INSERT INTO UUID_TEMP_TABLE(COUNTER,UUID,FROM_UUID) VALUES(12,'40534431-ee7b-4427-8b7b-70323b147cec','d9231a2d-bd38-4b63-adc4-93722a52a1f7') ;
INSERT INTO UUID_TEMP_TABLE(COUNTER,UUID,FROM_UUID) VALUES(13,'d9231a2d-bd38-4b63-adc4-93722a52a1f7','11279eeb-6e02-4374-a255-fc140930f111:d9231a2d-bd38-4b63-adc4-93722a52a1f7') ;
INSERT INTO UUID_TEMP_TABLE(COUNTER,UUID,FROM_UUID) VALUES(14,'11279eeb-6e02-4374-a255-fc140930f111','11279eeb-6e02-4374-a255-fc140930f111:d9231a2d-bd38-4b63-adc4-93722a52a1f7') ;
INSERT INTO UUID_TEMP_TABLE(COUNTER,UUID,FROM_UUID) VALUES(15,'d9231a2d-bd38-4b63-adc4-93722a52a1f7','40534431-ee7b-4427-8b7b-70323b147cec') ;
INSERT INTO UUID_TEMP_TABLE(COUNTER,UUID,FROM_UUID) VALUES(16,'40534431-ee7b-4427-8b7b-70323b147cec','d9231a2d-bd38-4b63-adc4-93722a52a1f7') ;
ALTER TABLE UUID_TEMP_TABLE ADD INDEX (COUNTER), ADD INDEX (UUID), ADD INDEX (FROM_UUID); 


UPDATE NODE T, UUID_TEMP_TABLE UIT, CONTENT CT set T.KEY_PARENT=CT.ID_INTERNAL WHERE T.KEY_PARENT=UIT.COUNTER AND T.CONTENT_ID = UIT.FROM_UUID AND CT.CONTENT_ID=UIT.UUID;
UPDATE NODE T, UUID_TEMP_TABLE UIT, CONTENT CT set T.KEY_CHILD=CT.ID_INTERNAL WHERE T.KEY_CHILD=UIT.COUNTER AND T.CONTENT_ID = UIT.FROM_UUID AND CT.CONTENT_ID=UIT.UUID;
UPDATE CONTENT T, UUID_TEMP_TABLE UIT, CONTENT CT set T.KEY_FUNCTIONALITY=CT.ID_INTERNAL WHERE T.KEY_FUNCTIONALITY=UIT.COUNTER AND T.CONTENT_ID = UIT.FROM_UUID AND CT.CONTENT_ID=UIT.UUID;
UPDATE CONTENT T, UUID_TEMP_TABLE UIT, EXECUTION_PATH CT set T.KEY_EXECUTION_PATH_VALUE=CT.ID_INTERNAL WHERE T.KEY_EXECUTION_PATH_VALUE=UIT.COUNTER AND T.CONTENT_ID = UIT.FROM_UUID AND CT.CONTENT_ID=UIT.UUID;
UPDATE CONTENT T, UUID_TEMP_TABLE UIT, CONTENT CT set T.KEY_INITIAL_CONTENT=CT.ID_INTERNAL WHERE T.KEY_INITIAL_CONTENT=UIT.COUNTER AND T.CONTENT_ID = UIT.FROM_UUID AND CT.CONTENT_ID=UIT.UUID;
UPDATE CONTENT T, UUID_TEMP_TABLE UIT, CONTENT CT set T.KEY_PORTAL=CT.ID_INTERNAL WHERE T.KEY_PORTAL=UIT.COUNTER AND T.CONTENT_ID = UIT.FROM_UUID AND CT.CONTENT_ID=UIT.UUID;
UPDATE CONTENT T, UUID_TEMP_TABLE UIT, AVAILABILITY_POLICY CT set T.KEY_AVAILABILITY_POLICY=CT.ID_INTERNAL WHERE T.KEY_AVAILABILITY_POLICY=UIT.COUNTER AND T.CONTENT_ID = UIT.FROM_UUID AND CT.CONTENT_ID=UIT.UUID;
UPDATE AVAILABILITY_POLICY T, UUID_TEMP_TABLE UIT, CONTENT CT set T.KEY_CONTENT=CT.ID_INTERNAL WHERE T.KEY_CONTENT=UIT.COUNTER AND T.CONTENT_ID = UIT.FROM_UUID AND CT.CONTENT_ID=UIT.UUID;
UPDATE EXECUTION_PATH T, UUID_TEMP_TABLE UIT, CONTENT CT set T.KEY_FUNCTIONALITY=CT.ID_INTERNAL WHERE T.KEY_FUNCTIONALITY=UIT.COUNTER AND T.CONTENT_ID = UIT.FROM_UUID AND CT.CONTENT_ID=UIT.UUID;
DROP TABLE UUID_TEMP_TABLE;

DELETE FROM NODE WHERE CONTENT_ID = 'null' ;

DELETE FROM NODE WHERE CONTENT_ID = 'null' ;

DELETE FROM NODE WHERE CONTENT_ID = 'null' ;

DELETE FROM NODE WHERE CONTENT_ID = 'null' ;

DELETE FROM NODE WHERE CONTENT_ID = 'null' ;

DELETE FROM NODE WHERE CONTENT_ID = 'null' ;

CREATE TEMPORARY TABLE UUID_TEMP_TABLE(COUNTER integer, UUID varchar(255), FROM_UUID varchar(255));

ALTER TABLE UUID_TEMP_TABLE ADD INDEX (COUNTER), ADD INDEX (UUID), ADD INDEX (FROM_UUID); 


DROP TABLE UUID_TEMP_TABLE;

INSERT INTO NODE (NODE_ORDER,ASCENDING,VISIBLE,CONTENT_ID,KEY_CHILD,KEY_PARENT,KEY_ROOT_DOMAIN_OBJECT,OJB_CONCRETE_CLASS) VALUES (6,1,1,'90853396807ee1c33c30f536a898437e:55af34ef-e9e9-4430-b255-1e2db05e710e',1,2,1,'net.sourceforge.fenixedu.domain.contents.ExplicitOrderNode')  ;

INSERT INTO CONTENT (KEY_FUNCTIONALITY,CONTENT_ID,CREATION_DATE,NAME,TITLE,BODY,DESCRIPTION,NORMALIZED_NAME,KEY_PORTAL,KEY_AVAILABILITY_POLICY,KEY_ROOT_DOMAIN_OBJECT,KEY_CREATOR,OJB_CONCRETE_CLASS) VALUES (3,'55af34ef-e9e9-4430-b255-1e2db05e710e','2008-05-02 17:38:48',null,null,null,null,null,null,null,1,null,'net.sourceforge.fenixedu.domain.contents.FunctionalityCall')  ;

UPDATE NODE SET NODE_ORDER=6,ASCENDING=1,VISIBLE=1,CONTENT_ID='90853396807ee1c33c30f536a898437e:55af34ef-e9e9-4430-b255-1e2db05e710e',KEY_CHILD=4,KEY_PARENT=5,KEY_ROOT_DOMAIN_OBJECT=1,OJB_CONCRETE_CLASS='net.sourceforge.fenixedu.domain.contents.ExplicitOrderNode' WHERE CONTENT_ID = '90853396807ee1c33c30f536a898437e:55af34ef-e9e9-4430-b255-1e2db05e710e'  ;

UPDATE CONTENT SET KEY_FUNCTIONALITY=6,CONTENT_ID='55af34ef-e9e9-4430-b255-1e2db05e710e',CREATION_DATE='2008-05-02 17:38:48',NAME=null,TITLE=null,BODY=null,DESCRIPTION=null,NORMALIZED_NAME=null,KEY_PORTAL=null,KEY_AVAILABILITY_POLICY=null,KEY_ROOT_DOMAIN_OBJECT=1,KEY_CREATOR=null,OJB_CONCRETE_CLASS='net.sourceforge.fenixedu.domain.contents.FunctionalityCall' WHERE CONTENT_ID = '55af34ef-e9e9-4430-b255-1e2db05e710e'  ;

CREATE TEMPORARY TABLE UUID_TEMP_TABLE(COUNTER integer, UUID varchar(255), FROM_UUID varchar(255));

INSERT INTO UUID_TEMP_TABLE(COUNTER,UUID,FROM_UUID) VALUES(1,'55af34ef-e9e9-4430-b255-1e2db05e710e','90853396807ee1c33c30f536a898437e:55af34ef-e9e9-4430-b255-1e2db05e710e') ;
INSERT INTO UUID_TEMP_TABLE(COUNTER,UUID,FROM_UUID) VALUES(2,'90853396807ee1c33c30f536a898437e','90853396807ee1c33c30f536a898437e:55af34ef-e9e9-4430-b255-1e2db05e710e') ;
INSERT INTO UUID_TEMP_TABLE(COUNTER,UUID,FROM_UUID) VALUES(3,'36a1a02d-ea05-4fd7-b188-37c7af03f298','55af34ef-e9e9-4430-b255-1e2db05e710e') ;
INSERT INTO UUID_TEMP_TABLE(COUNTER,UUID,FROM_UUID) VALUES(4,'55af34ef-e9e9-4430-b255-1e2db05e710e','90853396807ee1c33c30f536a898437e:55af34ef-e9e9-4430-b255-1e2db05e710e') ;
INSERT INTO UUID_TEMP_TABLE(COUNTER,UUID,FROM_UUID) VALUES(5,'90853396807ee1c33c30f536a898437e','90853396807ee1c33c30f536a898437e:55af34ef-e9e9-4430-b255-1e2db05e710e') ;
INSERT INTO UUID_TEMP_TABLE(COUNTER,UUID,FROM_UUID) VALUES(6,'36a1a02d-ea05-4fd7-b188-37c7af03f298','55af34ef-e9e9-4430-b255-1e2db05e710e') ;
ALTER TABLE UUID_TEMP_TABLE ADD INDEX (COUNTER), ADD INDEX (UUID), ADD INDEX (FROM_UUID); 


UPDATE NODE T, UUID_TEMP_TABLE UIT, CONTENT CT set T.KEY_PARENT=CT.ID_INTERNAL WHERE T.KEY_PARENT=UIT.COUNTER AND T.CONTENT_ID = UIT.FROM_UUID AND CT.CONTENT_ID=UIT.UUID;
UPDATE NODE T, UUID_TEMP_TABLE UIT, CONTENT CT set T.KEY_CHILD=CT.ID_INTERNAL WHERE T.KEY_CHILD=UIT.COUNTER AND T.CONTENT_ID = UIT.FROM_UUID AND CT.CONTENT_ID=UIT.UUID;
UPDATE CONTENT T, UUID_TEMP_TABLE UIT, CONTENT CT set T.KEY_FUNCTIONALITY=CT.ID_INTERNAL WHERE T.KEY_FUNCTIONALITY=UIT.COUNTER AND T.CONTENT_ID = UIT.FROM_UUID AND CT.CONTENT_ID=UIT.UUID;
UPDATE CONTENT T, UUID_TEMP_TABLE UIT, EXECUTION_PATH CT set T.KEY_EXECUTION_PATH_VALUE=CT.ID_INTERNAL WHERE T.KEY_EXECUTION_PATH_VALUE=UIT.COUNTER AND T.CONTENT_ID = UIT.FROM_UUID AND CT.CONTENT_ID=UIT.UUID;
UPDATE CONTENT T, UUID_TEMP_TABLE UIT, CONTENT CT set T.KEY_INITIAL_CONTENT=CT.ID_INTERNAL WHERE T.KEY_INITIAL_CONTENT=UIT.COUNTER AND T.CONTENT_ID = UIT.FROM_UUID AND CT.CONTENT_ID=UIT.UUID;
UPDATE CONTENT T, UUID_TEMP_TABLE UIT, CONTENT CT set T.KEY_PORTAL=CT.ID_INTERNAL WHERE T.KEY_PORTAL=UIT.COUNTER AND T.CONTENT_ID = UIT.FROM_UUID AND CT.CONTENT_ID=UIT.UUID;
UPDATE CONTENT T, UUID_TEMP_TABLE UIT, AVAILABILITY_POLICY CT set T.KEY_AVAILABILITY_POLICY=CT.ID_INTERNAL WHERE T.KEY_AVAILABILITY_POLICY=UIT.COUNTER AND T.CONTENT_ID = UIT.FROM_UUID AND CT.CONTENT_ID=UIT.UUID;
UPDATE AVAILABILITY_POLICY T, UUID_TEMP_TABLE UIT, CONTENT CT set T.KEY_CONTENT=CT.ID_INTERNAL WHERE T.KEY_CONTENT=UIT.COUNTER AND T.CONTENT_ID = UIT.FROM_UUID AND CT.CONTENT_ID=UIT.UUID;
UPDATE EXECUTION_PATH T, UUID_TEMP_TABLE UIT, CONTENT CT set T.KEY_FUNCTIONALITY=CT.ID_INTERNAL WHERE T.KEY_FUNCTIONALITY=UIT.COUNTER AND T.CONTENT_ID = UIT.FROM_UUID AND CT.CONTENT_ID=UIT.UUID;
DROP TABLE UUID_TEMP_TABLE;

UPDATE NODE SET NODE_ORDER=4,ASCENDING=1,VISIBLE=1,CONTENT_ID='90853396807ee1c33c30f536a898437e:182704f1-d1be-446f-8de2-12df8be889af',KEY_CHILD=7,KEY_PARENT=8,KEY_ROOT_DOMAIN_OBJECT=1,OJB_CONCRETE_CLASS='net.sourceforge.fenixedu.domain.contents.ExplicitOrderNode' WHERE CONTENT_ID = '90853396807ee1c33c30f536a898437e:182704f1-d1be-446f-8de2-12df8be889af'  ;

UPDATE NODE SET NODE_ORDER=7,ASCENDING=1,VISIBLE=1,CONTENT_ID='90853396807ee1c33c30f536a898437e:55af34ef-e9e9-4430-b255-1e2db05e710e',KEY_CHILD=9,KEY_PARENT=10,KEY_ROOT_DOMAIN_OBJECT=1,OJB_CONCRETE_CLASS='net.sourceforge.fenixedu.domain.contents.ExplicitOrderNode' WHERE CONTENT_ID = '90853396807ee1c33c30f536a898437e:55af34ef-e9e9-4430-b255-1e2db05e710e'  ;

UPDATE NODE SET NODE_ORDER=6,ASCENDING=1,VISIBLE=1,CONTENT_ID='90853396807ee1c33c30f536a898437e:4c9eac8c-13c1-49be-9119-8f2c0c973513',KEY_CHILD=11,KEY_PARENT=12,KEY_ROOT_DOMAIN_OBJECT=1,OJB_CONCRETE_CLASS='net.sourceforge.fenixedu.domain.contents.ExplicitOrderNode' WHERE CONTENT_ID = '90853396807ee1c33c30f536a898437e:4c9eac8c-13c1-49be-9119-8f2c0c973513'  ;

UPDATE NODE SET NODE_ORDER=2,ASCENDING=1,VISIBLE=1,CONTENT_ID='90853396807ee1c33c30f536a898437e:48e76566-47fd-4b59-8597-1f13462f0aef',KEY_CHILD=13,KEY_PARENT=14,KEY_ROOT_DOMAIN_OBJECT=1,OJB_CONCRETE_CLASS='net.sourceforge.fenixedu.domain.contents.ExplicitOrderNode' WHERE CONTENT_ID = '90853396807ee1c33c30f536a898437e:48e76566-47fd-4b59-8597-1f13462f0aef'  ;

UPDATE NODE SET NODE_ORDER=1,ASCENDING=1,VISIBLE=1,CONTENT_ID='90853396807ee1c33c30f536a898437e:cee30a90-1b15-42b6-96f9-8149ad624d5a',KEY_CHILD=15,KEY_PARENT=16,KEY_ROOT_DOMAIN_OBJECT=1,OJB_CONCRETE_CLASS='net.sourceforge.fenixedu.domain.contents.ExplicitOrderNode' WHERE CONTENT_ID = '90853396807ee1c33c30f536a898437e:cee30a90-1b15-42b6-96f9-8149ad624d5a'  ;

UPDATE NODE SET NODE_ORDER=3,ASCENDING=1,VISIBLE=1,CONTENT_ID='90853396807ee1c33c30f536a898437e:c6213501-f95d-468c-8761-43bce6fdebea',KEY_CHILD=17,KEY_PARENT=18,KEY_ROOT_DOMAIN_OBJECT=1,OJB_CONCRETE_CLASS='net.sourceforge.fenixedu.domain.contents.ExplicitOrderNode' WHERE CONTENT_ID = '90853396807ee1c33c30f536a898437e:c6213501-f95d-468c-8761-43bce6fdebea'  ;

UPDATE NODE SET NODE_ORDER=5,ASCENDING=1,VISIBLE=1,CONTENT_ID='90853396807ee1c33c30f536a898437e:0cf4cba6-0f3f-4da1-a336-b274479ac6f2',KEY_CHILD=19,KEY_PARENT=20,KEY_ROOT_DOMAIN_OBJECT=1,OJB_CONCRETE_CLASS='net.sourceforge.fenixedu.domain.contents.ExplicitOrderNode' WHERE CONTENT_ID = '90853396807ee1c33c30f536a898437e:0cf4cba6-0f3f-4da1-a336-b274479ac6f2'  ;

CREATE TEMPORARY TABLE UUID_TEMP_TABLE(COUNTER integer, UUID varchar(255), FROM_UUID varchar(255));

INSERT INTO UUID_TEMP_TABLE(COUNTER,UUID,FROM_UUID) VALUES(7,'90853396807ee1c33c30f536a898437e:182704f1-d1be-446f-8de2-12df8be889af','90853396807ee1c33c30f536a898437e:182704f1-d1be-446f-8de2-12df8be889af') ;
INSERT INTO UUID_TEMP_TABLE(COUNTER,UUID,FROM_UUID) VALUES(8,'90853396807ee1c33c30f536a898437e','90853396807ee1c33c30f536a898437e:182704f1-d1be-446f-8de2-12df8be889af') ;
INSERT INTO UUID_TEMP_TABLE(COUNTER,UUID,FROM_UUID) VALUES(9,'55af34ef-e9e9-4430-b255-1e2db05e710e','90853396807ee1c33c30f536a898437e:55af34ef-e9e9-4430-b255-1e2db05e710e') ;
INSERT INTO UUID_TEMP_TABLE(COUNTER,UUID,FROM_UUID) VALUES(10,'90853396807ee1c33c30f536a898437e','90853396807ee1c33c30f536a898437e:55af34ef-e9e9-4430-b255-1e2db05e710e') ;
INSERT INTO UUID_TEMP_TABLE(COUNTER,UUID,FROM_UUID) VALUES(11,'90853396807ee1c33c30f536a898437e:4c9eac8c-13c1-49be-9119-8f2c0c973513','90853396807ee1c33c30f536a898437e:4c9eac8c-13c1-49be-9119-8f2c0c973513') ;
INSERT INTO UUID_TEMP_TABLE(COUNTER,UUID,FROM_UUID) VALUES(12,'90853396807ee1c33c30f536a898437e','90853396807ee1c33c30f536a898437e:4c9eac8c-13c1-49be-9119-8f2c0c973513') ;
INSERT INTO UUID_TEMP_TABLE(COUNTER,UUID,FROM_UUID) VALUES(13,'90853396807ee1c33c30f536a898437e:48e76566-47fd-4b59-8597-1f13462f0aef','90853396807ee1c33c30f536a898437e:48e76566-47fd-4b59-8597-1f13462f0aef') ;
INSERT INTO UUID_TEMP_TABLE(COUNTER,UUID,FROM_UUID) VALUES(14,'90853396807ee1c33c30f536a898437e','90853396807ee1c33c30f536a898437e:48e76566-47fd-4b59-8597-1f13462f0aef') ;
INSERT INTO UUID_TEMP_TABLE(COUNTER,UUID,FROM_UUID) VALUES(15,'90853396807ee1c33c30f536a898437e:cee30a90-1b15-42b6-96f9-8149ad624d5a','90853396807ee1c33c30f536a898437e:cee30a90-1b15-42b6-96f9-8149ad624d5a') ;
INSERT INTO UUID_TEMP_TABLE(COUNTER,UUID,FROM_UUID) VALUES(16,'90853396807ee1c33c30f536a898437e','90853396807ee1c33c30f536a898437e:cee30a90-1b15-42b6-96f9-8149ad624d5a') ;
INSERT INTO UUID_TEMP_TABLE(COUNTER,UUID,FROM_UUID) VALUES(17,'90853396807ee1c33c30f536a898437e:c6213501-f95d-468c-8761-43bce6fdebea','90853396807ee1c33c30f536a898437e:c6213501-f95d-468c-8761-43bce6fdebea') ;
INSERT INTO UUID_TEMP_TABLE(COUNTER,UUID,FROM_UUID) VALUES(18,'90853396807ee1c33c30f536a898437e','90853396807ee1c33c30f536a898437e:c6213501-f95d-468c-8761-43bce6fdebea') ;
INSERT INTO UUID_TEMP_TABLE(COUNTER,UUID,FROM_UUID) VALUES(19,'90853396807ee1c33c30f536a898437e:0cf4cba6-0f3f-4da1-a336-b274479ac6f2','90853396807ee1c33c30f536a898437e:0cf4cba6-0f3f-4da1-a336-b274479ac6f2') ;
INSERT INTO UUID_TEMP_TABLE(COUNTER,UUID,FROM_UUID) VALUES(20,'90853396807ee1c33c30f536a898437e','90853396807ee1c33c30f536a898437e:0cf4cba6-0f3f-4da1-a336-b274479ac6f2') ;
ALTER TABLE UUID_TEMP_TABLE ADD INDEX (COUNTER), ADD INDEX (UUID), ADD INDEX (FROM_UUID); 


UPDATE NODE T, UUID_TEMP_TABLE UIT, CONTENT CT set T.KEY_PARENT=CT.ID_INTERNAL WHERE T.KEY_PARENT=UIT.COUNTER AND T.CONTENT_ID = UIT.FROM_UUID AND CT.CONTENT_ID=UIT.UUID;
UPDATE NODE T, UUID_TEMP_TABLE UIT, CONTENT CT set T.KEY_CHILD=CT.ID_INTERNAL WHERE T.KEY_CHILD=UIT.COUNTER AND T.CONTENT_ID = UIT.FROM_UUID AND CT.CONTENT_ID=UIT.UUID;
UPDATE CONTENT T, UUID_TEMP_TABLE UIT, CONTENT CT set T.KEY_FUNCTIONALITY=CT.ID_INTERNAL WHERE T.KEY_FUNCTIONALITY=UIT.COUNTER AND T.CONTENT_ID = UIT.FROM_UUID AND CT.CONTENT_ID=UIT.UUID;
UPDATE CONTENT T, UUID_TEMP_TABLE UIT, EXECUTION_PATH CT set T.KEY_EXECUTION_PATH_VALUE=CT.ID_INTERNAL WHERE T.KEY_EXECUTION_PATH_VALUE=UIT.COUNTER AND T.CONTENT_ID = UIT.FROM_UUID AND CT.CONTENT_ID=UIT.UUID;
UPDATE CONTENT T, UUID_TEMP_TABLE UIT, CONTENT CT set T.KEY_INITIAL_CONTENT=CT.ID_INTERNAL WHERE T.KEY_INITIAL_CONTENT=UIT.COUNTER AND T.CONTENT_ID = UIT.FROM_UUID AND CT.CONTENT_ID=UIT.UUID;
UPDATE CONTENT T, UUID_TEMP_TABLE UIT, CONTENT CT set T.KEY_PORTAL=CT.ID_INTERNAL WHERE T.KEY_PORTAL=UIT.COUNTER AND T.CONTENT_ID = UIT.FROM_UUID AND CT.CONTENT_ID=UIT.UUID;
UPDATE CONTENT T, UUID_TEMP_TABLE UIT, AVAILABILITY_POLICY CT set T.KEY_AVAILABILITY_POLICY=CT.ID_INTERNAL WHERE T.KEY_AVAILABILITY_POLICY=UIT.COUNTER AND T.CONTENT_ID = UIT.FROM_UUID AND CT.CONTENT_ID=UIT.UUID;
UPDATE AVAILABILITY_POLICY T, UUID_TEMP_TABLE UIT, CONTENT CT set T.KEY_CONTENT=CT.ID_INTERNAL WHERE T.KEY_CONTENT=UIT.COUNTER AND T.CONTENT_ID = UIT.FROM_UUID AND CT.CONTENT_ID=UIT.UUID;
UPDATE EXECUTION_PATH T, UUID_TEMP_TABLE UIT, CONTENT CT set T.KEY_FUNCTIONALITY=CT.ID_INTERNAL WHERE T.KEY_FUNCTIONALITY=UIT.COUNTER AND T.CONTENT_ID = UIT.FROM_UUID AND CT.CONTENT_ID=UIT.UUID;
DROP TABLE UUID_TEMP_TABLE;

INSERT INTO CONTENT (KEY_FUNCTIONALITY,CONTENT_ID,CREATION_DATE,NAME,TITLE,BODY,DESCRIPTION,NORMALIZED_NAME,KEY_PORTAL,KEY_AVAILABILITY_POLICY,KEY_ROOT_DOMAIN_OBJECT,KEY_CREATOR,OJB_CONCRETE_CLASS) VALUES (21,'589ac342-08ee-4652-b212-ccd55010b542','2008-05-02 17:39:06',null,null,null,null,null,null,null,1,null,'net.sourceforge.fenixedu.domain.contents.FunctionalityCall')  ;

INSERT INTO NODE (NODE_ORDER,ASCENDING,VISIBLE,CONTENT_ID,KEY_CHILD,KEY_PARENT,KEY_ROOT_DOMAIN_OBJECT,OJB_CONCRETE_CLASS) VALUES (5,1,1,'004b472cf566a3fac5c49bf07809d810:589ac342-08ee-4652-b212-ccd55010b542',22,23,1,'net.sourceforge.fenixedu.domain.contents.ExplicitOrderNode')  ;

UPDATE CONTENT SET KEY_FUNCTIONALITY=24,CONTENT_ID='589ac342-08ee-4652-b212-ccd55010b542',CREATION_DATE='2008-05-02 17:39:06',NAME=null,TITLE=null,BODY=null,DESCRIPTION=null,NORMALIZED_NAME=null,KEY_PORTAL=null,KEY_AVAILABILITY_POLICY=null,KEY_ROOT_DOMAIN_OBJECT=1,KEY_CREATOR=null,OJB_CONCRETE_CLASS='net.sourceforge.fenixedu.domain.contents.FunctionalityCall' WHERE CONTENT_ID = '589ac342-08ee-4652-b212-ccd55010b542'  ;

UPDATE NODE SET NODE_ORDER=5,ASCENDING=1,VISIBLE=1,CONTENT_ID='004b472cf566a3fac5c49bf07809d810:589ac342-08ee-4652-b212-ccd55010b542',KEY_CHILD=25,KEY_PARENT=26,KEY_ROOT_DOMAIN_OBJECT=1,OJB_CONCRETE_CLASS='net.sourceforge.fenixedu.domain.contents.ExplicitOrderNode' WHERE CONTENT_ID = '004b472cf566a3fac5c49bf07809d810:589ac342-08ee-4652-b212-ccd55010b542'  ;

CREATE TEMPORARY TABLE UUID_TEMP_TABLE(COUNTER integer, UUID varchar(255), FROM_UUID varchar(255));

INSERT INTO UUID_TEMP_TABLE(COUNTER,UUID,FROM_UUID) VALUES(21,'d9231a2d-bd38-4b63-adc4-93722a52a1f7','589ac342-08ee-4652-b212-ccd55010b542') ;
INSERT INTO UUID_TEMP_TABLE(COUNTER,UUID,FROM_UUID) VALUES(22,'589ac342-08ee-4652-b212-ccd55010b542','004b472cf566a3fac5c49bf07809d810:589ac342-08ee-4652-b212-ccd55010b542') ;
INSERT INTO UUID_TEMP_TABLE(COUNTER,UUID,FROM_UUID) VALUES(23,'004b472cf566a3fac5c49bf07809d810','004b472cf566a3fac5c49bf07809d810:589ac342-08ee-4652-b212-ccd55010b542') ;
INSERT INTO UUID_TEMP_TABLE(COUNTER,UUID,FROM_UUID) VALUES(24,'d9231a2d-bd38-4b63-adc4-93722a52a1f7','589ac342-08ee-4652-b212-ccd55010b542') ;
INSERT INTO UUID_TEMP_TABLE(COUNTER,UUID,FROM_UUID) VALUES(25,'589ac342-08ee-4652-b212-ccd55010b542','004b472cf566a3fac5c49bf07809d810:589ac342-08ee-4652-b212-ccd55010b542') ;
INSERT INTO UUID_TEMP_TABLE(COUNTER,UUID,FROM_UUID) VALUES(26,'004b472cf566a3fac5c49bf07809d810','004b472cf566a3fac5c49bf07809d810:589ac342-08ee-4652-b212-ccd55010b542') ;
ALTER TABLE UUID_TEMP_TABLE ADD INDEX (COUNTER), ADD INDEX (UUID), ADD INDEX (FROM_UUID); 


UPDATE NODE T, UUID_TEMP_TABLE UIT, CONTENT CT set T.KEY_PARENT=CT.ID_INTERNAL WHERE T.KEY_PARENT=UIT.COUNTER AND T.CONTENT_ID = UIT.FROM_UUID AND CT.CONTENT_ID=UIT.UUID;
UPDATE NODE T, UUID_TEMP_TABLE UIT, CONTENT CT set T.KEY_CHILD=CT.ID_INTERNAL WHERE T.KEY_CHILD=UIT.COUNTER AND T.CONTENT_ID = UIT.FROM_UUID AND CT.CONTENT_ID=UIT.UUID;
UPDATE CONTENT T, UUID_TEMP_TABLE UIT, CONTENT CT set T.KEY_FUNCTIONALITY=CT.ID_INTERNAL WHERE T.KEY_FUNCTIONALITY=UIT.COUNTER AND T.CONTENT_ID = UIT.FROM_UUID AND CT.CONTENT_ID=UIT.UUID;
UPDATE CONTENT T, UUID_TEMP_TABLE UIT, EXECUTION_PATH CT set T.KEY_EXECUTION_PATH_VALUE=CT.ID_INTERNAL WHERE T.KEY_EXECUTION_PATH_VALUE=UIT.COUNTER AND T.CONTENT_ID = UIT.FROM_UUID AND CT.CONTENT_ID=UIT.UUID;
UPDATE CONTENT T, UUID_TEMP_TABLE UIT, CONTENT CT set T.KEY_INITIAL_CONTENT=CT.ID_INTERNAL WHERE T.KEY_INITIAL_CONTENT=UIT.COUNTER AND T.CONTENT_ID = UIT.FROM_UUID AND CT.CONTENT_ID=UIT.UUID;
UPDATE CONTENT T, UUID_TEMP_TABLE UIT, CONTENT CT set T.KEY_PORTAL=CT.ID_INTERNAL WHERE T.KEY_PORTAL=UIT.COUNTER AND T.CONTENT_ID = UIT.FROM_UUID AND CT.CONTENT_ID=UIT.UUID;
UPDATE CONTENT T, UUID_TEMP_TABLE UIT, AVAILABILITY_POLICY CT set T.KEY_AVAILABILITY_POLICY=CT.ID_INTERNAL WHERE T.KEY_AVAILABILITY_POLICY=UIT.COUNTER AND T.CONTENT_ID = UIT.FROM_UUID AND CT.CONTENT_ID=UIT.UUID;
UPDATE AVAILABILITY_POLICY T, UUID_TEMP_TABLE UIT, CONTENT CT set T.KEY_CONTENT=CT.ID_INTERNAL WHERE T.KEY_CONTENT=UIT.COUNTER AND T.CONTENT_ID = UIT.FROM_UUID AND CT.CONTENT_ID=UIT.UUID;
UPDATE EXECUTION_PATH T, UUID_TEMP_TABLE UIT, CONTENT CT set T.KEY_FUNCTIONALITY=CT.ID_INTERNAL WHERE T.KEY_FUNCTIONALITY=UIT.COUNTER AND T.CONTENT_ID = UIT.FROM_UUID AND CT.CONTENT_ID=UIT.UUID;
DROP TABLE UUID_TEMP_TABLE;

UPDATE NODE SET NODE_ORDER=4,ASCENDING=1,VISIBLE=1,CONTENT_ID='004b472cf566a3fac5c49bf07809d810:ad15f24f-f3f7-43c4-923e-b7789139d427',KEY_CHILD=27,KEY_PARENT=28,KEY_ROOT_DOMAIN_OBJECT=1,OJB_CONCRETE_CLASS='net.sourceforge.fenixedu.domain.contents.ExplicitOrderNode' WHERE CONTENT_ID = '004b472cf566a3fac5c49bf07809d810:ad15f24f-f3f7-43c4-923e-b7789139d427'  ;

UPDATE NODE SET NODE_ORDER=3,ASCENDING=1,VISIBLE=1,CONTENT_ID='004b472cf566a3fac5c49bf07809d810:01b9d1a4-259d-4d73-8503-f56c2556b591',KEY_CHILD=29,KEY_PARENT=30,KEY_ROOT_DOMAIN_OBJECT=1,OJB_CONCRETE_CLASS='net.sourceforge.fenixedu.domain.contents.ExplicitOrderNode' WHERE CONTENT_ID = '004b472cf566a3fac5c49bf07809d810:01b9d1a4-259d-4d73-8503-f56c2556b591'  ;

UPDATE NODE SET NODE_ORDER=6,ASCENDING=1,VISIBLE=1,CONTENT_ID='004b472cf566a3fac5c49bf07809d810:589ac342-08ee-4652-b212-ccd55010b542',KEY_CHILD=31,KEY_PARENT=32,KEY_ROOT_DOMAIN_OBJECT=1,OJB_CONCRETE_CLASS='net.sourceforge.fenixedu.domain.contents.ExplicitOrderNode' WHERE CONTENT_ID = '004b472cf566a3fac5c49bf07809d810:589ac342-08ee-4652-b212-ccd55010b542'  ;

UPDATE NODE SET NODE_ORDER=2,ASCENDING=1,VISIBLE=1,CONTENT_ID='004b472cf566a3fac5c49bf07809d810:483a8089-9a65-44d5-a046-66edadb3d84d',KEY_CHILD=33,KEY_PARENT=34,KEY_ROOT_DOMAIN_OBJECT=1,OJB_CONCRETE_CLASS='net.sourceforge.fenixedu.domain.contents.ExplicitOrderNode' WHERE CONTENT_ID = '004b472cf566a3fac5c49bf07809d810:483a8089-9a65-44d5-a046-66edadb3d84d'  ;

UPDATE NODE SET NODE_ORDER=1,ASCENDING=1,VISIBLE=1,CONTENT_ID='004b472cf566a3fac5c49bf07809d810:5c4825a6-724a-4d55-beb1-260603a64543',KEY_CHILD=35,KEY_PARENT=36,KEY_ROOT_DOMAIN_OBJECT=1,OJB_CONCRETE_CLASS='net.sourceforge.fenixedu.domain.contents.ExplicitOrderNode' WHERE CONTENT_ID = '004b472cf566a3fac5c49bf07809d810:5c4825a6-724a-4d55-beb1-260603a64543'  ;

UPDATE NODE SET NODE_ORDER=5,ASCENDING=1,VISIBLE=1,CONTENT_ID='004b472cf566a3fac5c49bf07809d810:5423673f-c9c0-4124-996b-cb3c07d36c83',KEY_CHILD=37,KEY_PARENT=38,KEY_ROOT_DOMAIN_OBJECT=1,OJB_CONCRETE_CLASS='net.sourceforge.fenixedu.domain.contents.ExplicitOrderNode' WHERE CONTENT_ID = '004b472cf566a3fac5c49bf07809d810:5423673f-c9c0-4124-996b-cb3c07d36c83'  ;

CREATE TEMPORARY TABLE UUID_TEMP_TABLE(COUNTER integer, UUID varchar(255), FROM_UUID varchar(255));

INSERT INTO UUID_TEMP_TABLE(COUNTER,UUID,FROM_UUID) VALUES(27,'004b472cf566a3fac5c49bf07809d810:ad15f24f-f3f7-43c4-923e-b7789139d427','004b472cf566a3fac5c49bf07809d810:ad15f24f-f3f7-43c4-923e-b7789139d427') ;
INSERT INTO UUID_TEMP_TABLE(COUNTER,UUID,FROM_UUID) VALUES(28,'004b472cf566a3fac5c49bf07809d810','004b472cf566a3fac5c49bf07809d810:ad15f24f-f3f7-43c4-923e-b7789139d427') ;
INSERT INTO UUID_TEMP_TABLE(COUNTER,UUID,FROM_UUID) VALUES(29,'004b472cf566a3fac5c49bf07809d810:01b9d1a4-259d-4d73-8503-f56c2556b591','004b472cf566a3fac5c49bf07809d810:01b9d1a4-259d-4d73-8503-f56c2556b591') ;
INSERT INTO UUID_TEMP_TABLE(COUNTER,UUID,FROM_UUID) VALUES(30,'004b472cf566a3fac5c49bf07809d810','004b472cf566a3fac5c49bf07809d810:01b9d1a4-259d-4d73-8503-f56c2556b591') ;
INSERT INTO UUID_TEMP_TABLE(COUNTER,UUID,FROM_UUID) VALUES(31,'589ac342-08ee-4652-b212-ccd55010b542','004b472cf566a3fac5c49bf07809d810:589ac342-08ee-4652-b212-ccd55010b542') ;
INSERT INTO UUID_TEMP_TABLE(COUNTER,UUID,FROM_UUID) VALUES(32,'004b472cf566a3fac5c49bf07809d810','004b472cf566a3fac5c49bf07809d810:589ac342-08ee-4652-b212-ccd55010b542') ;
INSERT INTO UUID_TEMP_TABLE(COUNTER,UUID,FROM_UUID) VALUES(33,'004b472cf566a3fac5c49bf07809d810:483a8089-9a65-44d5-a046-66edadb3d84d','004b472cf566a3fac5c49bf07809d810:483a8089-9a65-44d5-a046-66edadb3d84d') ;
INSERT INTO UUID_TEMP_TABLE(COUNTER,UUID,FROM_UUID) VALUES(34,'004b472cf566a3fac5c49bf07809d810','004b472cf566a3fac5c49bf07809d810:483a8089-9a65-44d5-a046-66edadb3d84d') ;
INSERT INTO UUID_TEMP_TABLE(COUNTER,UUID,FROM_UUID) VALUES(35,'004b472cf566a3fac5c49bf07809d810:5c4825a6-724a-4d55-beb1-260603a64543','004b472cf566a3fac5c49bf07809d810:5c4825a6-724a-4d55-beb1-260603a64543') ;
INSERT INTO UUID_TEMP_TABLE(COUNTER,UUID,FROM_UUID) VALUES(36,'004b472cf566a3fac5c49bf07809d810','004b472cf566a3fac5c49bf07809d810:5c4825a6-724a-4d55-beb1-260603a64543') ;
INSERT INTO UUID_TEMP_TABLE(COUNTER,UUID,FROM_UUID) VALUES(37,'004b472cf566a3fac5c49bf07809d810:5423673f-c9c0-4124-996b-cb3c07d36c83','004b472cf566a3fac5c49bf07809d810:5423673f-c9c0-4124-996b-cb3c07d36c83') ;
INSERT INTO UUID_TEMP_TABLE(COUNTER,UUID,FROM_UUID) VALUES(38,'004b472cf566a3fac5c49bf07809d810','004b472cf566a3fac5c49bf07809d810:5423673f-c9c0-4124-996b-cb3c07d36c83') ;
ALTER TABLE UUID_TEMP_TABLE ADD INDEX (COUNTER), ADD INDEX (UUID), ADD INDEX (FROM_UUID); 


UPDATE NODE T, UUID_TEMP_TABLE UIT, CONTENT CT set T.KEY_PARENT=CT.ID_INTERNAL WHERE T.KEY_PARENT=UIT.COUNTER AND T.CONTENT_ID = UIT.FROM_UUID AND CT.CONTENT_ID=UIT.UUID;
UPDATE NODE T, UUID_TEMP_TABLE UIT, CONTENT CT set T.KEY_CHILD=CT.ID_INTERNAL WHERE T.KEY_CHILD=UIT.COUNTER AND T.CONTENT_ID = UIT.FROM_UUID AND CT.CONTENT_ID=UIT.UUID;
UPDATE CONTENT T, UUID_TEMP_TABLE UIT, CONTENT CT set T.KEY_FUNCTIONALITY=CT.ID_INTERNAL WHERE T.KEY_FUNCTIONALITY=UIT.COUNTER AND T.CONTENT_ID = UIT.FROM_UUID AND CT.CONTENT_ID=UIT.UUID;
UPDATE CONTENT T, UUID_TEMP_TABLE UIT, EXECUTION_PATH CT set T.KEY_EXECUTION_PATH_VALUE=CT.ID_INTERNAL WHERE T.KEY_EXECUTION_PATH_VALUE=UIT.COUNTER AND T.CONTENT_ID = UIT.FROM_UUID AND CT.CONTENT_ID=UIT.UUID;
UPDATE CONTENT T, UUID_TEMP_TABLE UIT, CONTENT CT set T.KEY_INITIAL_CONTENT=CT.ID_INTERNAL WHERE T.KEY_INITIAL_CONTENT=UIT.COUNTER AND T.CONTENT_ID = UIT.FROM_UUID AND CT.CONTENT_ID=UIT.UUID;
UPDATE CONTENT T, UUID_TEMP_TABLE UIT, CONTENT CT set T.KEY_PORTAL=CT.ID_INTERNAL WHERE T.KEY_PORTAL=UIT.COUNTER AND T.CONTENT_ID = UIT.FROM_UUID AND CT.CONTENT_ID=UIT.UUID;
UPDATE CONTENT T, UUID_TEMP_TABLE UIT, AVAILABILITY_POLICY CT set T.KEY_AVAILABILITY_POLICY=CT.ID_INTERNAL WHERE T.KEY_AVAILABILITY_POLICY=UIT.COUNTER AND T.CONTENT_ID = UIT.FROM_UUID AND CT.CONTENT_ID=UIT.UUID;
UPDATE AVAILABILITY_POLICY T, UUID_TEMP_TABLE UIT, CONTENT CT set T.KEY_CONTENT=CT.ID_INTERNAL WHERE T.KEY_CONTENT=UIT.COUNTER AND T.CONTENT_ID = UIT.FROM_UUID AND CT.CONTENT_ID=UIT.UUID;
UPDATE EXECUTION_PATH T, UUID_TEMP_TABLE UIT, CONTENT CT set T.KEY_FUNCTIONALITY=CT.ID_INTERNAL WHERE T.KEY_FUNCTIONALITY=UIT.COUNTER AND T.CONTENT_ID = UIT.FROM_UUID AND CT.CONTENT_ID=UIT.UUID;
DROP TABLE UUID_TEMP_TABLE;



COMMIT;
