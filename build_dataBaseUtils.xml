<?xml version="1.0" encoding="ISO-8859-1"?>
<project basedir="." default="generate-fenix-sql" name="DataBase Utils">

    <property environment="env"/>
	<property name="encoding" value="ISO-8859-15"/>

    <property name="lib" location="lib" />

	<property name="build.home" location="build"/>
	<property name="build.home.temp" value="${build.home}/temp"/>
	<property name="build.home.temp.classes" value="${build.home.temp}/classes"/>
	<property name="build.home.webinf" value="${build.home}/WEB-INF"/>
	<property name="build.home.webinf.classes" value="${build.home.webinf}/classes"/>

    <target name="compile"
    		description="Compile tools">
    	<ant antfile="build_codeGenerator.xml" target="compile"/>
	</target>

    <target name="generate-fenix-sql"
    		description="Generate sql schema for fenix database."
    		depends="compile">
		<java classname="pt.utl.ist.codeGenerator.SQLGenerator" fork="true">
			<classpath>
				<pathelement path="${build.home.temp.classes}"/>
				<pathelement path="${build.home.webinf.classes}"/>
                <fileset dir="${lib}">
                    <include name="**/*.jar"/>
                </fileset>
			</classpath>
		</java>
    </target>

    <target name="generate-fenix-xls"
    		description="Generate xls schema for fenix database."
    		depends="compile">
		<java classname="pt.utl.ist.codeGenerator.database.XLSGenerator" fork="true">
			<arg value="etc/fenix.xls"/>
			<arg value="PERSON"/>
			<classpath>
				<pathelement path="${build.home.temp.classes}"/>
				<pathelement path="${build.home.webinf.classes}"/>
                <fileset dir="${lib}">
                    <include name="**/*.jar"/>
                </fileset>
			</classpath>
		</java>
    </target>

    <target name="load-fenix-xls"
    		description="Generate xls schema for fenix database."
    		depends="compile">
		<java classname="pt.utl.ist.codeGenerator.database.XLSLoader" fork="true">
			<arg value="etc/fenix.xls"/>
			<arg value="PERSON"/>
			<classpath>
				<pathelement path="${build.home.temp.classes}"/>
				<pathelement path="${build.home.webinf.classes}"/>
                <fileset dir="${lib}">
                    <include name="**/*.jar"/>
                </fileset>
			</classpath>
		</java>
    </target>

</project>