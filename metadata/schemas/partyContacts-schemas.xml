<schema name="contacts.PartyContact.manage" type="net.sourceforge.fenixedu.domain.contacts.PartyContact" bundle="ACADEMIC_OFFICE_RESOURCES">
	<slot name="party" hidden="true"/>
	<slot name="type" validator="pt.ist.fenixWebFramework.renderers.validators.RequiredValidator" />
	<slot name="defaultContact" key="label.partyContacts.defaultContact" />
</schema>

<schema name="contacts.PhysicalAddress.manage" type="net.sourceforge.fenixedu.domain.contacts.PhysicalAddress"
	 	extends="contacts.PartyContact.manage" bundle="ACADEMIC_OFFICE_RESOURCES"
	 	constructor="party, type, defaultContact, address, areaCode, areaOfAreaCode, area, parishOfResidence, districtSubdivisionOfResidence, districtOfResidence, countryOfResidence">
	 	
	<slot name="address" validator="pt.ist.fenixWebFramework.renderers.validators.RequiredValidator">
		<property name="size" value="50"/>
	</slot>
	<slot name="area" validator="pt.ist.fenixWebFramework.renderers.validators.RequiredValidator" />
	<slot name="areaCode">
		<property name="size" value="10"/>
		 <validator class="pt.ist.fenixWebFramework.renderers.validators.RegexpValidator">
            <property name="regexp" value="\d{4}-\d{3}"/>
            <property name="message" value="error.areaCode.invalidFormat"/>
            <property name="key" value="true"/>
        </validator>
	</slot>
	<slot name="areaOfAreaCode" validator="pt.ist.fenixWebFramework.renderers.validators.RequiredValidator" />
	<slot name="parishOfResidence" validator="pt.ist.fenixWebFramework.renderers.validators.RequiredValidator" />
	<slot name="districtSubdivisionOfResidence" validator="pt.ist.fenixWebFramework.renderers.validators.RequiredValidator" />
	<slot name="districtOfResidence" validator="pt.ist.fenixWebFramework.renderers.validators.RequiredValidator" />
	<slot name="countryOfResidence" layout="menu-select" validator="pt.ist.fenixWebFramework.renderers.validators.RequiredValidator" >
		<property name="providerClass" value="net.sourceforge.fenixedu.presentationTier.renderers.providers.DistinctCountriesProvider" />
		<property name="format" value="${name}"/>
		<property name="sortBy" value="name"/>		
	</slot>
	<setter signature="edit(type, defaultContact, address, areaCode, areaOfAreaCode, area, parishOfResidence, districtSubdivisionOfResidence, districtOfResidence, countryOfResidence)" />
</schema>

<schema name="contacts.Phone.manage" type="net.sourceforge.fenixedu.domain.contacts.Phone" extends="contacts.PartyContact.manage"
		bundle="ACADEMIC_OFFICE_RESOURCES" constructor="party, type, defaultContact, number">
	<slot name="number" validator="pt.ist.fenixWebFramework.renderers.validators.RequiredValidator">
		<property name="size" value="15"/>
		<validator class="pt.ist.fenixWebFramework.renderers.validators.RegexpValidator">
            <property name="regexp" value="[0-9]*"/>
            <property name="message" value="error.phone.invalidFormat"/>
            <property name="key" value="true"/>
        </validator>
	</slot>
	<setter signature="edit(type, defaultContact, number)" />
</schema>

<schema name="contacts.MobilePhone.manage" type="net.sourceforge.fenixedu.domain.contacts.MobilePhone" extends="contacts.PartyContact.manage"
		bundle="ACADEMIC_OFFICE_RESOURCES" constructor="party, type, defaultContact, number">
	<slot name="number" validator="pt.ist.fenixWebFramework.renderers.validators.RequiredValidator">
		<property name="size" value="15"/>
		<validator class="pt.ist.fenixWebFramework.renderers.validators.RegexpValidator">
            <property name="regexp" value="[0-9]*"/>
            <property name="message" value="error.phone.invalidFormat"/>
            <property name="key" value="true"/>
        </validator>
	</slot>
	<setter signature="edit(type, defaultContact, number)" />
</schema>

<schema name="contacts.EmailAddress.manage" type="net.sourceforge.fenixedu.domain.contacts.EmailAddress" extends="contacts.PartyContact.manage"
		bundle="ACADEMIC_OFFICE_RESOURCES" constructor="party, type, defaultContact, value">
	<slot name="value" validator="pt.ist.fenixWebFramework.renderers.validators.RequiredValidator" key="label.email">
		<property name="size" value="50"/>
	</slot>
	<setter signature="edit(type, defaultContact, value)" />
</schema>

<schema name="contacts.WebAddress.manage" type="net.sourceforge.fenixedu.domain.contacts.WebAddress" extends="contacts.PartyContact.manage"
		bundle="ACADEMIC_OFFICE_RESOURCES" constructor="party, type, defaultContact, url">
	<slot name="url" validator="pt.ist.fenixWebFramework.renderers.validators.RequiredValidator" key="label.webAddress">
		<property name="size" value="40"/>
	</slot>
	<setter signature="edit(type, defaultContact, url)" />
</schema>

<schema name="contacts.PartyContact.view" type="net.sourceforge.fenixedu.domain.contacts.PartyContact" bundle="ACADEMIC_OFFICE_RESOURCES">
	<slot name="defaultContact" key="label.partyContacts.defaultContact">
		<property name="trueLabel" value="label.partyContacts.view.trueLabel" />
		<property name="falseLabel" value="label.partyContacts.view.falseLabel" />
		<property name="bundle" value="ACADEMIC_OFFICE_RESOURCES" />
	</slot>
	<slot name="type" />
</schema>

<schema name="contacts.PhysicalAddress.view" type="net.sourceforge.fenixedu.domain.contacts.PhysicalAddress" extends="contacts.PartyContact.view"
		bundle="ACADEMIC_OFFICE_RESOURCES">
	<slot name="address" layout="null-as-label">
		<property name="label" value="-" />
	</slot>
	<slot name="area" layout="null-as-label">
		<property name="label" value="-" />
	</slot>
	<slot name="areaCode" layout="null-as-label">
		<property name="label" value="-" />
	</slot>
	<slot name="areaOfAreaCode" layout="null-as-label">
		<property name="label" value="-" />
	</slot>
	<slot name="parishOfResidence" layout="null-as-label">
		<property name="label" value="-" />
	</slot>
	<slot name="districtSubdivisionOfResidence" layout="null-as-label">
		<property name="label" value="-" />
	</slot>
	<slot name="districtOfResidence" layout="null-as-label">
		<property name="label" value="-" />
	</slot>
	<slot name="countryOfResidenceName" key="label.countryOfResidence" layout="null-as-label">
		<property name="label" value="-" />
	</slot>
</schema>

<schema name="contacts.PhysicalAddress.view-for-student" type="net.sourceforge.fenixedu.domain.contacts.PhysicalAddress"
		extends="contacts.PhysicalAddress.view" bundle="ACADEMIC_OFFICE_RESOURCES">
	<remove name="defaultContact" />
</schema>

<schema name="contacts.Phone.view" type="net.sourceforge.fenixedu.domain.contacts.Phone" extends="contacts.PartyContact.view"
		bundle="ACADEMIC_OFFICE_RESOURCES">
	<slot name="number" />
</schema>

<schema name="contacts.MobilePhone.view" type="net.sourceforge.fenixedu.domain.contacts.MobilePhone" extends="contacts.PartyContact.view"
		bundle="ACADEMIC_OFFICE_RESOURCES">
	<slot name="number" />
</schema>

<schema name="contacts.EmailAddress.view" type="net.sourceforge.fenixedu.domain.contacts.EmailAddress" extends="contacts.PartyContact.view"
		bundle="ACADEMIC_OFFICE_RESOURCES">
	<slot name="value" key="label.email" />
</schema>

<schema name="contacts.WebAddress.view" type="net.sourceforge.fenixedu.domain.contacts.WebAddress" extends="contacts.PartyContact.view"
		bundle="ACADEMIC_OFFICE_RESOURCES">
	<slot name="url" key="label.webAddress" />
</schema>

<!-- student schemas -->
<schema name="contacts.PartyContact.manage-student" type="net.sourceforge.fenixedu.domain.contacts.PartyContact" bundle="ACADEMIC_OFFICE_RESOURCES">
	<slot name="party" hidden="true"/>
	<slot name="type" validator="pt.ist.fenixWebFramework.renderers.validators.RequiredValidator">
		<property name="excludedValues" value="INSTITUTIONAL" />
	</slot>
	<slot name="defaultContact" key="label.partyContacts.defaultContact" />
</schema>

<schema name="contacts.Phone.manage-student" type="net.sourceforge.fenixedu.domain.contacts.Phone" extends="contacts.PartyContact.manage-student"
		bundle="ACADEMIC_OFFICE_RESOURCES" constructor="party, type, defaultContact, number">
	<slot name="number" validator="pt.ist.fenixWebFramework.renderers.validators.RequiredValidator">
		<property name="size" value="15"/>
		<validator class="pt.ist.fenixWebFramework.renderers.validators.RegexpValidator">
            <property name="regexp" value="[0-9]*"/>
            <property name="message" value="error.phone.invalidFormat"/>
            <property name="key" value="true"/>
        </validator>
	</slot>
	<setter signature="edit(type, defaultContact, number)" />
</schema>

<schema name="contacts.MobilePhone.manage-student" type="net.sourceforge.fenixedu.domain.contacts.MobilePhone" extends="contacts.PartyContact.manage-student"
		bundle="ACADEMIC_OFFICE_RESOURCES" constructor="party, type, defaultContact, number">
	<slot name="number" validator="pt.ist.fenixWebFramework.renderers.validators.RequiredValidator">
		<property name="size" value="15"/>
		<validator class="pt.ist.fenixWebFramework.renderers.validators.RegexpValidator">
            <property name="regexp" value="[0-9]*"/>
            <property name="message" value="error.phone.invalidFormat"/>
            <property name="key" value="true"/>
        </validator>
	</slot>
	<setter signature="edit(type, defaultContact, number)" />
</schema>

<schema name="contacts.EmailAddress.manage-student" type="net.sourceforge.fenixedu.domain.contacts.EmailAddress" extends="contacts.PartyContact.manage-student"
		bundle="ACADEMIC_OFFICE_RESOURCES" constructor="party, type, defaultContact, value">
	<slot name="value" validator="pt.ist.fenixWebFramework.renderers.validators.RequiredValidator" key="label.email">
		<property name="size" value="50"/>
	</slot>
	<setter signature="edit(type, defaultContact, value)" />
</schema>

<schema name="contacts.WebAddress.manage-student" type="net.sourceforge.fenixedu.domain.contacts.WebAddress" extends="contacts.PartyContact.manage-student"
		bundle="ACADEMIC_OFFICE_RESOURCES" constructor="party, type, defaultContact, url">
	<slot name="url" validator="pt.ist.fenixWebFramework.renderers.validators.RequiredValidator" key="label.webAddress">
		<property name="size" value="40"/>
	</slot>
	<setter signature="edit(type, defaultContact, url)" />
</schema>
