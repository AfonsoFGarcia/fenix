<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts-config PUBLIC
	"-//Apache Software Foundation//DTD Struts Configuration 1.1//EN"
	"http://jakarta.apache.org/struts/dtds/struts-config_1_1.dtd">
<struts-config>

    <!-- ========== Data Source Configuration =============================== -->
    <data-sources />
    
	<!-- ========== Form Bean Definitions ================================== -->
	<form-beans type="org.apache.struts.action.ActionFormBean">
	       <form-bean name="studentsGratuityListForm" 
	  			 type="org.apache.struts.validator.DynaValidatorForm"
                 dynamic="true">
            <form-property name="page" type="java.lang.Integer" initial="0" />
            <form-property name="executionYear" type="java.lang.String"/>
            <form-property name="specialization" type="java.lang.String"/>
            <form-property name="degree" type="java.lang.String"/>
            <form-property name="situation" type="java.lang.String" />
       </form-bean>
 		
    </form-beans>

	 <!-- ========== Global Exception Definitions ============================== -->
	<global-exceptions>
		<exception type="java.lang.Exception"
			       key="java.lang.Exception"
			       path="/naoExecutado.do"
			       handler="ServidorApresentacao.config.FenixExceptionHandler"/>
		<exception type="ServidorAplicacao.NotAuthorizedException"
			       key="ServidorAplicacao.NotAuthorizedException"
			       path="/naoAutorizado.do"
			       />
		<exception type="ServidorAplicacao.FenixServiceException"
		  	       key="ServidorAplicacao.FenixServiceException"
		  	       path="/naoExecutado.do"
		  	       handler="ServidorApresentacao.config.FenixExceptionHandler" />
		<exception type="ServidorAplicacao.Servico.ExcepcaoInexistente"
			       key="ServidorAplicacao.Servico.ExcepcaoInexistente"
			       path="/naoExistente.do"
			       handler="ServidorApresentacao.config.FenixExceptionHandler" /> 
	</global-exceptions>

	<!-- ========== Global Forward Definitions =============================== -->
	<global-forwards type="org.apache.struts.action.ActionForward">
     </global-forwards>

	<!-- ========== Action Mapping Definitions =============================== -->
	<action-mappings type="org.apache.struts.action.ActionMapping">
   
   	<action path="/index" 
      		  type="ServidorApresentacao.Action.base.FenixForwardAction" 
      		  forward="/index.jsp"/>
    
    <action path="/gratuitySection"
	type="ServidorApresentacao.Action.commons.VoidAction"
	parameter="method"
	>
		<forward name="Success" path="firstPageGratuitySection"/>
	</action>
	
    <action path="/studentsGratuityList"
		type="ServidorApresentacao.Action.directiveCouncil.StudentsGratuityListAction"
		parameter="method"
		name="studentsGratuityListForm"
		scope="request"
		input="/studentsGratuityList.do?method=prepareChooseDegree&amp;page=0"
	>
		<forward name="choose" path="/studentsGratuityList.do?method=chooseExecutionYear&amp;page=0" />
		<forward name="chooseStudentsGratuityList" path="chooseStudentsGratuityList"/>
		<forward name="studentsGratuityList" path="studentsGratuityList" />
	</action>
      		  
 	</action-mappings>

	<!-- ========== Controller Configuration ================================ -->
	<controller processorClass="ServidorApresentacao.processor.FenixRequestProcessorWithTiles"/>

	<!-- ========== Message Resources Definitions ============================ -->
	<message-resources parameter="ServidorApresentacao.DirectiveCouncilResources" null="false"/>
	
	<!-- ========== Plug Ins Configuration ================================= -->
	<plug-in className="org.apache.struts.validator.ValidatorPlugIn">
      <set-property property="pathnames" 
		value="/WEB-INF/validator-rules.xml,/WEB-INF/fenix-validator-rules.xml,/WEB-INF/conf/validation-directiveCouncil.xml"/>
	</plug-in>

	<plug-in className="org.apache.struts.tiles.TilesPlugin" >
		<set-property property="definitions-config"
					  value="/WEB-INF/tiles/layouts/tiles-layout-definitions.xml,/WEB-INF/tiles/directiveCouncil/tiles-directiveCouncil-definitions.xml,/WEB-INF/tiles/directiveCouncil/tiles-directiveCouncil-pages-definitions.xml" />
		<set-property property="moduleAware" value="true" />
		<set-property property="definitions-parser-validate" value="true" />
	</plug-in>    

</struts-config>
