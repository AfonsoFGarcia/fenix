<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE struts-config PUBLIC
	"-//Apache Software Foundation//DTD Struts Configuration 1.1//EN"
	"http://jakarta.apache.org/struts/dtds/struts-config_1_1.dtd">
<struts-config>
 
		<!-- ========== Data Source Configuration =============================== -->
	
		<!-- ========== Form Bean Definitions ================================== -->
		<form-beans type="org.apache.struts.action.ActionFormBean">  
			<form-bean name="teacherSearchForm" 
				type="org.apache.struts.validator.DynaValidatorForm" dynamic="true">
				<form-property name="teacherNumber" type="java.lang.String"/>
				<form-property name="page" type="java.lang.Integer" initial="0"/>
			</form-bean>
    </form-beans>

	 <!-- ========== Global Exception Definitions ============================== -->
	<global-exceptions>
		<exception type="ServidorAplicacao.NotAuthorizedException"
			       key="ServidorAplicacao.NotAuthorizedException"
			       path="/naoAutorizado.do"
			       handler="ServidorApresentacao.config.FenixExceptionHandler"/>
		<exception type="ServidorAplicacao.NotExecutedException"
		  	       key="ServidorAplicacao.NotExecutedException"
		  	       path="/naoExecutado.do"
		  	       handler="ServidorApresentacao.config.FenixExceptionHandler" />
		<exception type="ServidorAplicacao.Servico.ExcepcaoInexistente"
			       key="ServidorAplicacao.Servico.ExcepcaoInexistente"
			       path="/naoExistente.do"
			       handler="ServidorApresentacao.config.FenixExceptionHandler" />
		<exception type="ServidorAplicacao.FenixServiceException"
		  	       key="ServidorAplicacao.FenixServiceException"
		  	       path="/naoExecutado.do"
		  	       handler="ServidorApresentacao.config.FenixExceptionHandler" />
	</global-exceptions>

	<!-- ========== Global Forward Definitions =============================== -->
	<global-forwards type="org.apache.struts.action.ActionForward">
    </global-forwards>

	<!-- ========== Action Mapping Definitions =============================== -->
	<action-mappings type="org.apache.struts.action.ActionMapping">
    	<action path="/index" type="ServidorApresentacao.Action.commons.VoidAction">
    		<forward name="Success" path="index"/>
    	</action>
	   	<action path="/teacherSearch" input="search-teacher-form" name="teacherSearchForm" scope="request"
	   			parameter="method"
	   			type="ServidorApresentacao.Action.framework.SearchAction"
	   			className="ServidorApresentacao.mapping.framework.SearchActionMapping">
			<set-property property="serviceName" value="FindTeachersService"/>
  			<set-property property="objectAttribute" value="infoTeacher"/>
  			<set-property property="listAttribute" value="infoTeacherList"/>
   			<set-property property="notFoundMessageKey" value="errors.teacher.not.found"/>
   			<forward name="search-form" path="teacher-search-form"/>
  			<forward name="list-one" path="view-teacher-credits-sheet"/> 
    		<forward name="list-many" path="view-teachers-for-credits-sheet"/>
	   	</action>
	</action-mappings>

	<!-- ========== Controller Configuration ================================ -->
    <controller processorClass="ServidorApresentacao.processor.FenixRequestProcessorWithTiles"/>

	<!-- ========== Message Resources Definitions ============================ -->
	<message-resources parameter="ServidorApresentacao.FacultyAdmOfficeResources" null="false"/>

	<!-- ========== Plug Ins Configuration ================================= -->
			
	<plug-in className="org.apache.struts.validator.ValidatorPlugIn">
      <set-property property="pathnames" 
		value="/WEB-INF/validator-rules.xml,/WEB-INF/fenix-validator-rules.xml,/WEB-INF/conf/validation-facultyAdmOffice.xml"/>
	</plug-in>
	    <plug-in className="org.apache.struts.tiles.TilesPlugin" >
		<set-property property="definitions-config"
					  value="/WEB-INF/tiles/layouts/tiles-layout-definitions.xml,/WEB-INF/tiles/facultyAdmOffice/tiles-facultyAdmOffice-definitions.xml,/WEB-INF/tiles/facultyAdmOffice/tiles-facultyAdmOffice-pages-definitions.xml" />
		<set-property property="moduleAware" value="true" />
		<set-property property="definitions-parser-validate" value="true" />
	</plug-in>    

</struts-config>
